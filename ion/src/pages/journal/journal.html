<!--
  Generated template for the Journal page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar class="gradient">
    <ion-row>
      <ion-col width-80>
        <ion-title>Journal</ion-title>
      </ion-col>
      <ion-col width-20 text-right>
        <button ion-button icon-only class="add-journal-btn" (click)="addJournal()">
          <ion-icon class="add-journal" color="white" name="add-circle"  ></ion-icon>
        </button>
      </ion-col>
    </ion-row>
  </ion-navbar>
</ion-header>

<ion-content padding-top>
  <ion-spinner icon="spiral" *ngIf="loader"></ion-spinner>
  <ion-row *ngIf="JournalByUserId.length">
    <ion-col col-12 padding>All your favorite posts you have saved.</ion-col>
    <ion-col col-12 no-padding *ngFor="let Journal of JournalByUserId;let j=index">
      <ion-list class="journal-list">
        <ion-item text-wrap (click)="viewJournal(Journal)">
          <ion-thumbnail item-left>
            <img *ngIf="Journal.icon" src="{{dataService.apiBaseUrl}}public/files/Journal/{{Journal.icon}}">
            <img *ngIf="!Journal.icon" src="{{dataService.apiBaseUrl}}public/files/Group/group-registration-icon-26.png">
          </ion-thumbnail>
          <h2 *ngIf="Journal" embed-directive>{{Journal.title}}
            <span *ngIf="Journal.posts.length">&nbsp;({{Journal.posts.length}})</span>
            <span *ngIf="!Journal.posts.length">&nbsp;(0)</span>
          </h2>
        </ion-item>
        <span class="journal-btn">
          <button ion-button clear item-right (click)="editJournal(Journal)"><ion-icon class="fa fa-edit"></ion-icon></button>
           <button ion-button clear item-right (click)="onDeleteClick(Journal._id,j)"><ion-icon class="fa fa-trash-o"></ion-icon></button>
        </span>
      </ion-list>
    </ion-col>
  </ion-row>
  <ion-row *ngIf="!JournalByUserId.length">
    <ion-col col-12 padding>
      You have not created any journals to save your favorite posts. Click the + sign to create a journal so you can save your
      favorite posts.
    </ion-col>
  </ion-row>
</ion-content>