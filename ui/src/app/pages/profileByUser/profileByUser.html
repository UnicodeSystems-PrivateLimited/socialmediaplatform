<div class="page-loader-section layout-row layout-align-center-center" *ngIf="!user">
    <div class="page-loader ">Loading...</div>
</div>
<section *ngIf="user && !isUserBlocked" class="content p-0 profile-by-user">


    <div class="custom1-modal layout-column">
        <!--        <div class="custom1-modal-header layout-row layout-align-space-between">
                    <div class="h3 header-title"><span *ngIf="user.userDetails.fname">{{user.userDetails.fname+' '|uppercase}}</span><span *ngIf="user.userDetails.lname">{{user.userDetails.lname|uppercase}}</span></div>
                    <div class="header-options layout-row">
        
        
                    </div>
                </div>-->
        <div class="custom1-modal-body layout-xs-column layout-column layout-align-space-between ">
            <div class="layout-row flex-100">
                <div class="flex-100 flex-xs-30 user-profile-header layout-row layout-align-start">
                    <div class="flex-60 modal-body-title layout-align-start-start">
                        <h3 class="header-span layout-column layout-align-start">
                            <div class="flex-100 layout-row" style="width:100%">
                                <div *ngIf="user.userDetails.fname" class="flex-50">{{user.userDetails | nameFilter }}</div>
                                <!--<span *ngIf="user.userDetails.fname">&nbsp;({{user.userDetails.fname|lowercase}})</span>-->
                                
                            </div>
                            <span class="modal-sub-title " *ngIf="user.profilestatus.length">Currently taking
                            <span *ngFor="let currentSub of user.profilestatus;let k=index;">
                                <span class=" c-p" (click)="getSubjectWall(currentSub.subject_id)" ><span *ngIf="k==0">(</span>{{currentSub.name}}<span *ngIf="k<user.profilestatus.length-1">,</span><span *ngIf="k==user.profilestatus.length-1">)</span>
                            </span>
                            <!--<span class="modal-sub-title">&nbsp;|  Just Started High School</span>-->
                            </span>
                            </span>
                        </h3>

                    </div>
                    <div class="profile-info-data flex-40 layout-column layout-align-start flex-xs-70 flex-sm-80">
                        <div class="flex-50 modal-body-content">
                            <div class=" modal-share layout-row layout-align-end-end" *ngIf="user.userDetails.social_link">
                                <a *ngIf="user.userDetails.social_link.linkedin" href="{{user.userDetails.social_link.linkedin}}" target="_blank" class="btn btn-social-icon btn-linkedin m-r-10"><i class="fa fa-linkedin"></i></a>
                                <a *ngIf="user.userDetails.social_link.twitter" href="{{user.userDetails.social_link.twitter}}" target="_blank" class="btn btn-social-icon btn-twitter m-r-10"><i class="fa fa-twitter"></i></a>
                                <a *ngIf="user.userDetails.social_link.bitbucket" href="{{user.userDetails.social_link.bitbucket}}" target="_blank" class="btn btn-social-icon btn-bitbucket m-r-10"><i class="fa fa-bitbucket"></i></a>
                                <a *ngIf="user.userDetails.social_link.tumblr" href="{{user.userDetails.social_link.tumblr}}" target="_blank" class="btn btn-social-icon btn-tumblr m-r-10"><i class="fa fa-tumblr"></i></a>
                                <a *ngIf="user.userDetails.social_link.facebook" href="{{user.userDetails.social_link.facebook}}" target="_blank" class="btn btn-social-icon btn-facebook m-r-10"><i class="fa fa-facebook"></i></a>
                                <a *ngIf="user.userDetails.social_link.google_plus" href="{{user.userDetails.social_link.google_plus}}" target="_blank" class="btn btn-social-icon btn-google m-r-10"><i class="fa fa fa-google-plus"></i></a>
                            </div>
                        </div>
                        <div class="login-info-block layout-row layout-xs-column" *ngIf="user.userDetails._id==page.userIdGlobal">
                            <div class="layout-column layout-align-center-center flex-40 flex-xs-100">
                                <div class="info-value" *ngIf="user.userDetails.login_details">
                                    {{user.userDetails.login_details.total_login}}
                                </div>
                                <div class="info-title">
                                    Total Login
                                </div>
                            </div>
                            <div class="layout-column layout-align-center-center flex-60 flex-xs-100">
                                <div class="info-value" *ngIf="user.userDetails.login_details">
                                    {{user.userDetails.login_details.last_login| amDateFormat:'LL'}}
                                </div>
                                <div class="info-title">
                                    Last Login
                                </div>
                            </div>
                        </div>
                        <div class="profile-btn-block layout-row layout-xs-column layout-align-end" *ngIf="user.is_logged_user==false">
                            <button *ngIf="user.current_friends_status_code == 6" (click)="addAsFriend(user)" type="button" class="btn bg-orange btn-flat flex-xs-100 flex-100">Add as Friend</button>
                            <button *ngIf="user.current_friends_status_code == 3" type="button" class="btn disabled bg-orange btn-flat flex-xs-100 flex-100">Already Friend</button>
                            <button *ngIf="user.current_friends_status_code == 1" (click)="cancelRequestedFriend(user)" type="button" class="btn bg-orange btn-flat  flex-xs-100 flex-100">Cancel Request</button>
                            <button *ngIf="user.current_friends_status_code == 2" type="button" class="btn bg-orange btn-flat flex-xs-100 flex-100" (click)="getFriendListPage()">Pending Request</button>

                            <button *ngIf="user.following_friend_status_code == 6" (click)="setFollow(user)" type="button" class="btn bg-orange btn-flat flex-xs-100 flex-100">Follow</button>
                            <button *ngIf="user.following_friend_status_code == 3" (click)="setUnFollow(user)" type="button" class="btn bg-orange btn-flat flex-xs-100 flex-100">UnFollow</button>
                            <button (click)="mytoggle(user.userDetails._id)" *ngIf="user.current_friends_status_code == 3" type="button" class="btn bg-orange btn-flat flex-xs-100 flex-100">Send Message</button>
                        </div>
                        <div class="count-info-block layout-row layout-align-space-between font-12" style="margin-bottom:0">
                            <div class="layout-row layout-align-xs-center-center flex-xs-100 flex-100">
                                <div class="count-value c-p" style="margin-right:10px; margin-left:2px;" [routerLink]="['ProfileConnectionComponent',{userId:user.userDetails._id,id:1}]">
                                    {{user.friendsCount}}
                                </div>
                                <div class="count-title " style="margin-top:3px;">
                                    Friends

                                </div>
                            </div>
                            <div class="layout-row layout-align-xs-center-center flex-xs-100 flex-100">
                                <div class="count-value c-p" style="margin-right:10px; margin-left:2px;" [routerLink]="['ProfileConnectionComponent',{userId:user.userDetails._id,id:2}]">
                                    {{user.followersCount}}
                                </div>
                                <div class="count-title" style="margin-top:3px;">
                                    Followers

                                </div>
                            </div>
                            <div class="layout-row layout-align-xs-center-center flex-xs-100 flex-100">
                                <div class="count-value c-p" style="margin-right:10px; margin-left:2px;" [routerLink]="['ProfileConnectionComponent',{userId:user.userDetails._id,id:3}]">
                                    {{user.followingsCount}}
                                </div>
                                <div class="count-title" style="margin-top:3px;">
                                    Following

                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="search layout-column flex-100 m-l-15 m-r-15">
        <div class="box-header-timeline flex-100  layout-align-space-between-center layout-row">
            <div class="c-p" (click)="closeSearchBox()"><i class="fa fa-search"></i> <span>Search</span></div>
            <div class="box-tools-timeline pull-right">
                <button class="btn btn-box-tool" id="toggleSearch" (click)="closeSearchBox()"><i id="changeClass" class="fa fa-plus"></i></button>
            </div>
        </div>
        <form id="togglingSearch" style="display:none">
            <div class="form-group m-t-10">
                <input type="text" class="form-control layout-column flex-31" (keyup)="subjectSearch($event)" (focus)="subjectSearch($event)"
                    placeholder="Search Subject..." [(ngModel)]="searchData.subject_name" />
                <div *ngIf="searchedSubjectsList.length" class="search-list">
                    <ul class="global-search-list">
                        <li *ngFor="let subject of searchedSubjectsList">
                            <div class="college-block" (click)="selectSubject(subject._id,subject.name)">
                                {{subject.name}}
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="form-group">
                <input type="text" class="form-control layout-column flex-31" (keyup)="collegeSearch($event)" (focus)="collegeSearch($event)"
                    placeholder="Search College..." [(ngModel)]="searchData.college_name">
                <div *ngIf="searchedCollegesList.length" class="search-list">
                    <ul class="global-search-list">
                        <li *ngFor="let college of searchedCollegesList">
                            <div class="college-block" (click)="selectCollege(college._id,college.name)">
                                {{college.name}}
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="form-group">
                <input type="text" class="form-control layout-column flex-31" (keyup)="degreeSearch($event)" (focus)="degreeSearch($event)"
                    placeholder="Search Degree..." [(ngModel)]="searchData.degree_name">
                <div *ngIf="searchedDegreesList.length" class="search-list">
                    <ul class="global-search-list">
                        <li *ngFor="let degree of searchedDegreesList">
                            <div class="college-block" (click)="selectDegree(degree._id,degree.name)">
                                {{degree.name}}
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
            <button type="submit" class="add-btn reset-btn" (click)="searchReset()">Show All</button>
            <button type="submit" class="add-btn" [disabled]="searchStatus" (click)="searchPost()">Search</button>
            <div class="filter-text" *ngIf="showFilterText">Filter By :- {{showFilterText}}</div>
        </form>
    </div>

    <div class="">
        <div class="col-md-12">
            <div class="nav-tabs-custom user-profile-tab">
                <ul class="nav nav-tabs  layout-row">
                    <li class="flex-11" [class.actives]="tDashboard">
                        <a data-toggle="tab" href="#dashboard" class="layout-row layout-align-center-center" (click)="getUserProfile()">
                            <i class="fa fa-tachometer" aria-hidden="true"></i>
                            <span> Dashboard</span>
                        </a>
                    </li>
                    <li class="flex-11" [class.actives]="tTimeline">
                        <a data-toggle="tab" href="#timeline" (click)="getUserTimeline()" class="layout-row layout-align-center-center">
                            <i class="fa fa-clock-o" aria-hidden="true"></i>
                            <span> Timeline</span>
                        </a>
                    </li>
                    <li class="flex-11" [class.actives]="tActivity">
                        <a data-toggle="tab" href="#activity" (click)="getFriendPost()" class="layout-row layout-align-center-center">
                            <i class="fa fa-envelope" aria-hidden="true"></i>
                            <span> Post</span>
                        </a>
                    </li>
                    <li class="flex-11" [class.actives]="tPhoto">
                        <a data-toggle="tab" href="#photos" (click)="getUserPost(3)" class="layout-row layout-align-center-center">
                            <i class="fa fa-picture-o" aria-hidden="true"></i>
                            <span> Photos</span>
                        </a>
                    </li>
                    <li class="flex-11" [class.actives]="tVideo">
                        <a data-toggle="tab" href="#videos" (click)="getUserPost(4)" class="layout-row layout-align-center-center">
                            <i class="fa fa-youtube-play" aria-hidden="true"></i>
                            <span>  Videos</span>
                        </a>
                    </li>
                    <li class="flex-11" [class.actives]="tLink">
                        <a data-toggle="tab" href="#links" (click)="getUserPost(5)" class="layout-row layout-align-center-center">
                            <i class="fa fa-link" aria-hidden="true"></i>
                            <span>  Link</span>
                        </a>
                    </li>
                    <li class="flex-11" [class.actives]="tDocument">
                        <a data-toggle="tab" href="#documents" (click)="getUserPost(7)" class="layout-row layout-align-center-center">
                            <i class="fa fa-book" aria-hidden="true"></i>
                            <span> Document</span>
                        </a>
                    </li>
                    <li class="flex-11" [class.actives]="tAudio">
                        <a data-toggle="tab" href="#audios" (click)="getUserPost(6)" class="layout-row layout-align-center-center">
                            <i class="fa fa-headphones" aria-hidden="true"></i>
                            <span> Audio</span>
                        </a>
                    </li>
                    <li class="flex-11" [class.actives]="tQuestion">
                        <a data-toggle="tab" href="#questions" (click)="getUserPost(2)" class="layout-row layout-align-center-center">
                            <i class="fa fa-question-circle" aria-hidden="true"></i>
                            <span>   Question</span>
                        </a>
                    </li>

                </ul>
                <div class="tab-content">
                    <div class=" tab-pane" id="activity" (window:scroll)="onScrollListPost($event)" [class.showtab]="tActivity" [class.hidetab]="!tActivity">
                        <div class="page-loader-section layout-row layout-align-center-center" *ngIf="loader">
                            <div class="page-loader ">Loading...</div>
                        </div>
                        <div class="no-data" *ngIf="postdataAll?.length == 0">No data found</div>
                        
                        <div class="post" *ngFor="let data of postdataAll; let j=index">
                <div class="timeline-item flex-100">
                        <div class="user-block layout-row layout-align-start-start">
                            <div class="layout-row layout-align-start-start flex-80">
                              <span class="timeline-header-img">
                                <img *ngIf="data.created_by.photo" alt="user image" class="  " src="public/files/ProfilePicture/{{data.created_by.photo}}">
                                <img *ngIf="!data.created_by.photo" alt="user image" class="  " src="public/files/ProfilePicture/no_image.png">
                            </span>  
                            <div class="layout-column">
                              <span class="timeline-header username">   
                                {{data.created_by | nameFilter }}
                               <span class="post-type" *ngIf="data.origin_creator">shared</span>
                                <span class="post-type" *ngIf="!data.origin_creator && data.post_type != 8">posted</span>
                                <span class="post-type" *ngIf="data.post_type == 1"> a message</span>
                                <span class="post-type" *ngIf="data.post_type == 2"> a question</span>
                                <span class="post-type" *ngIf="data.post_type == 3"> a photo</span>
                                <span class="post-type" *ngIf="data.post_type == 4"> a video</span>
                                <span class="post-type" *ngIf="data.post_type == 5"> a link</span>
                                <span class="post-type" *ngIf="data.post_type == 6"> an audio</span>
                                <span class="post-type" *ngIf="data.post_type == 7"> a document</span>
                                <span class="post-type" *ngIf="data.post_type == 8 && data.origin_creator "> a post</span>
                                <span class="post-type" *ngIf="data.post_type == 8 && !data.origin_creator"> has joined the</span>
                                <span class="post-type" *ngIf="data.origin_creator && data.created_by._id !== data.origin_creator._id"> of <a (click)="getProfileById(data.origin_creator._id)" class="color-red c-p">{{data.origin_creator | nameFilter}}</a></span>
                                <span class="post-type" (click)="getDegreeWall(data.degree_id._id)" *ngIf="data.degree_id"> <span *ngIf="(data.post_type != 8) || (data.origin_creator && data.post_type == 8)">in</span>                                <span *ngIf="data.post_type == 8">degree</span> <a class="c-p color-red">{{data.degree_id.name}}</a></span>
                                <span class="post-type" (click)="getCollegeWall(data.college_id._id)" *ngIf="data.college_id"><span *ngIf="(data.post_type != 8) || (data.origin_creator && data.post_type == 8)">in</span>                                <span *ngIf="data.post_type == 8">college</span> <a class="c-p color-red"> {{data.college_id.name}}</a></span>
                                <span class="post-type" (click)="getSubjectWall(data.subject_id._id)" *ngIf="data.subject_id"> <span *ngIf="(data.post_type != 8) || (data.origin_creator && data.post_type == 8)">in</span>                                <span *ngIf="data.post_type == 8">subject</span> <a class="c-p color-red"> {{data.subject_id.name}}</a></span>
                                </span>
                                <span class="description">{{data.created_on| datetime}}</span>
                            </div>
                            
                        </div><!--flex-80-->
                            <div class="layout-row  flex-20 layout-align-end">
                                <button class="btn bg-orange btn-flat" (click)="page.onClickUnFollow(data.created_by._id)" type="button" *ngIf="(data.created_by._id!=page.userIdGlobal) && (data.created_by._id | followunfollowstatus)">UnFollow</button>
                                <button class="btn bg-orange btn-flat" (click)="page.onClickFollow(data.created_by._id)" type="button" *ngIf="(data.created_by._id!=page.userIdGlobal) && !(data.created_by._id | followunfollowstatus)">Follow</button>
                            </div>
                        </div>
                    </div><!--timeline-item-->
                            <div class="post-body text-formatting" *ngIf="data.message">
                                <p class="message text-formatting" *ngIf="data.shared_title" embedDirective>{{data.shared_title}}</p>
                                <p embedDirective> {{data.message}} </p>
                            </div>
                            <div class="row" *ngIf="data.photo[0]" (click)="getDetailView(data._id)">
                                <div class="col-sm-12">
                                    <div class="full-img">
                                        <p class="message text-formatting" *ngIf="data.shared_title" embedDirective>{{data.shared_title}}</p>
                                        <h4 class="message text-formatting" *ngIf="data.name && data.name!=null " embedDirective>{{data.name}}</h4>
                                        <img *ngIf="data.photo[0].title==null" alt="Photo" class="img-responsive" src="public/files/{{getFoldername(data.types)}}/Photos/{{data.origin_creator?data.origin_creator._id:data.created_by._id}}/{{data.photo[0].file_name}}">
                                        <img *ngIf="data.photo[0].title!=null" class="img-responsive" src="{{data.photo[0].title}}" alt="Photo">
                                    </div>
                                </div>
                            </div>
                            <div class="row" *ngIf="data.video[0]" (click)="getDetailVideoView(data._id)">
                                <div class="col-sm-12">
                                    <div class="photo-container full-video">
                                        <p class="message text-formatting" *ngIf="data.shared_title" embedDirective>{{data.shared_title}}</p>
                                        <h4 class=" message text-formatting" *ngIf="data.name && data.name!=null" embedDirective>{{data.name}}</h4>
                                        <video #cmp *ngIf="data.video[0].title==null" width="100%" height="100%" controls>
                                            <source src="public/files/{{getFoldername(data.types)}}/Videos/{{data.origin_creator?data.origin_creator._id:data.created_by._id}}/{{data.video[0].file_name}}"
                                                type="video/mp4">
                                        </video>
                                        <iframe *ngIf="data.video[0].title!=null" width="100%" height="320px" [src]="data.video[0].title | youtubeSafeUrl" frameborder="0"
                                            allowfullscreen>
                                        </iframe>
                                    </div>
                                </div>
                            </div>
                            <div class="row" *ngIf="data.audio[0]" (click)="getDetailView(data._id)">
                                <div class="col-sm-12">
                                    <div class="audio-container">
                                        <p class="message text-formatting" *ngIf="data.shared_title" embedDirective>{{data.shared_title}}</p>
                                        <h4 class=" message text-formatting" *ngIf="data.name && data.name!=null " embedDirective>{{data.name}}</h4><br>
                                        <h4 class=" message text-formatting" *ngIf="data.audio[0].file_name">{{data.audio[0].file_name | documentNameFilter}}</h4>
                                        <audio controls *ngIf="data.audio[0].title==null">
                                            <source src="public/files/{{getFoldername(data.types)}}/Audios/{{data.origin_creator?data.origin_creator._id:data.created_by._id}}/{{data.audio[0].file_name}}"
                                                type="audio/ogg">
                                        </audio>
                                        <audio controls *ngIf="data.audio[0].title!=null">
                                            <source src="{{data.audio[0].title}}" type="audio/mp4">
                                        </audio>
                                    </div>
                                </div>
                            </div>
                            <div class="row" *ngIf="data.document[0]">
                                <div class="col-sm-12">
                                    <div class="post-body">
                                        <div class="document-container layout-column">
                                            <p class="message text-formatting" *ngIf="data.shared_title" embedDirective>{{data.shared_title}}</p>
                                            <h4 class=" message text-formatting" *ngIf="data.name && data.name!=null " embedDirective>{{data.name}}</h4><br>
                                            <h4 class=" message text-formatting" *ngIf="data.document[0].file_name">{{data.document[0].file_name | documentNameFilter}}</h4>
                                            <a href="public/files/{{getFoldername(data.types)}}/Documents/{{data.origin_creator?data.origin_creator._id:data.created_by._id}}/{{data.document[0].file_name}}"
                                                class="pdflink"><span class="title" *ngIf="data.document[0].title">{{data.document[0].title}}</span>
                                                <span class="title" *ngIf="data.document[0].file_name">
                                                    <span *ngIf="data.document[0].file_name.split('.').pop() == 'txt' || data.document[0].file_name.split('.').pop() == 'text'">
                                                    <i class="fa fa-file-text fa-4x">&nbsp;</i>&nbsp;Open/Download
                                                    </span>
                                                    <span *ngIf="data.document[0].file_name.split('.').pop() == 'pdf'">
                                                        <i class="fa fa-file-pdf-o fa-4x">&nbsp;</i>&nbsp;Open/Download
                                                    </span>
                                                    <span *ngIf="data.document[0].file_name.split('.').pop() == 'doc' || data.document[0].file_name.split('.').pop() == 'dot' || data.document[0].file_name.split('.').pop() == 'word' || data.document[0].file_name.split('.').pop() == 'wiz' || data.document[0].file_name.split('.').pop() == 'w6w' || data.document[0].file_name.split('.').pop() == 'docx'">
                                                        <i class="fa fa-file-word-o fa-4x">&nbsp;</i>&nbsp;Open/Download
                                                    </span>
                                                    <span *ngIf="data.document[0].file_name.split('.').pop() == 'xls' || data.document[0].file_name.split('.').pop() == 'xlm' || data.document[0].file_name.split('.').pop() == 'xll' || data.document[0].file_name.split('.').pop() == 'xlc' || data.document[0].file_name.split('.').pop() == 'xlb' || data.document[0].file_name.split('.').pop() == 'xlw' || data.document[0].file_name.split('.').pop() == 'xlsx'">
                                                        <i class="fa fa-file-excel-o fa-4x">&nbsp;</i>&nbsp;Open/Download
                                                    </span>
                                                    <span *ngIf="data.document[0].file_name.split('.').pop() == 'ppt' || data.document[0].file_name.split('.').pop() == 'pot' || data.document[0].file_name.split('.').pop() == 'pps' || data.document[0].file_name.split('.').pop() == 'ppa' || data.document[0].file_name.split('.').pop() == 'pwz' ">
                                                        <i class="fa fa-file-powerpoint-o fa-4x">&nbsp;</i>&nbsp;Open/Download
                                                    </span>
                                                    <span *ngIf="data.document[0].file_name.split('.').pop() == 'xml'">
                                                        <i class="fa fa-file-o fa-4x">&nbsp;</i>&nbsp;Open/Download
                                                    </span>
                                                </span>
                                            </a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row" *ngIf="data.link[0]">
                                <div class="col-sm-12">
                                    <div class="post-body">
                                        <div class="link-container layout-cloumn">
                                            <p class="message text-formatting" *ngIf="data.shared_title" embedDirective>{{data.shared_title}}</p>
                                            <span class="message text-formatting" *ngIf="data.link[0].title" embedDirective>{{data.link[0].title}}</span><br>
                                            <span class="layout-row">Link: <span class="link-address" *ngIf="data.link[0].description"><a href="{{data.link[0].description}}" target="_blank" embedDirective>{{data.link[0].description}}</a></span></span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row" *ngIf="data.question">
                                <div class="col-sm-12">
                                    <div class="question-block">
                                        <p class="message text-formatting" *ngIf="data.shared_title" embedDirective>{{data.shared_title}}</p>
                                        <span class="message text-formatting" embedDirective>{{data.question}}</span>
                                    </div>
                                </div>
                            </div>

                            <div class="post-btm layout-row layout-align-space-between-center layout-align-xs-center-center layout-xs-column" _ngcontent-ket-7="">
                                <ul *ngIf="data.likes" class="list-inline smile-dropdown flex-xs-30 layout-row">
                                    <li>
                                        <img class="toggleImage-{{j}}" (click)="addLike(data._id,data,j)" src="public/dist/img/{{data.likes|likeFilterPipe:data._id}}"
                                            style="height: 20px ;width: 20px" /> {{data.likes.length}}
                                        <span class="c-p" *ngIf="data.likes.length > 0" (click)="onViewLikeClick(data._id)">View</span>
                                    </li>
                                </ul>
                                <ul class="list-inline user-acitvity flex-xs-45 layout-row" _ngcontent-ket-7="">
                                    <li class="c-p" (click)=toggleCommentPost(data.comments,data._id)><a class="link-black text-sm" _ngcontent-ket-7=""><i class="fa fa-commenting margin-r-5 fa-1x" _ngcontent-ket-7=""></i><span _ngcontent-ket-7="">{{data.comments.length}}</span>&nbsp;Comment<span *ngIf="data.comments.length>1">s</span></a></li>
                                    <li class="c-p" (click)="openAddPostToJournalModal(data._id)"><a class="link-black text-sm" _ngcontent-ket-7=""><i class="fa fa-file-text margin-r-5 fa-1x" _ngcontent-ket-7=""></i>Journal</a>
                                    </li>
                                    <li class="">
                                        <a (click)="onShareClick(data._id)" class="link-black text-sm c-p" _ngcontent-ket-7=""><i class="fa  fa-share margin-r-5 fa-1x" _ngcontent-ket-7=""></i> Share
                                        </a>
                                    </li>
                                    <li *ngIf="data.created_by._id!=page.userIdGlobal" class="c-p">
                                            <a (click)="onReportClickModal(data._id)" class="link-black text-sm c-p"><i class="fa fa-flag"></i> Report
                                            </a>
                                     </li> 
                                </ul>
                                <div class="post-share-toggle" [class.display-share]="sharing[data._id]">
                                    <ul>
                                        <li (click)="share(data)">Internal Share</li>
                                        <li (click)="externalShare(data)">External Share</li>
                                    </ul>
                                </div>
                            </div>


                            <div class="post-toggle-area" [class.display-comment]="togglePostComment[data._id]">
                                <div class="post-comment-section">
                                    <div class="post-comment-body">
                                        <div class="comenter-like-day c-p prev-com" *ngIf="prevComment[data._id] && oldComment[data._id] && prevComment[data._id].length!=oldComment[data._id].length"
                                            (click)="loadPrevComment(data._id)">View Previous Messages</div>
                                        <ul class="post-comment-list" angular2-auto-scroll lock-y-offset="2000" observe-attributes>
                                            <li class="layout-row" *ngFor="let comment of prevComment[data._id];let j=index;">
                                                <div (click)="getProfileById(comment.comment_by._id)" class="post-comment-img  layout-align-start layout-row flex-xs-30 c-p">
                                                    <img *ngIf="comment.comment_by.photo" class="" src="public/files/ProfilePicture/{{comment.comment_by.photo}}" style="height:42px ;width: 42px">
                                                    <img *ngIf="!comment.comment_by.photo" class="" src="public/files/ProfilePicture/no_image.png" style="height:42px ;width: 42px">
                                                </div>
                                                <div class="post-comment-body layout-column flex-xs-70 flex-90 m-l-10">
                                                    <div class="layout-row layout-align-space-between">
                                                        <div (click)="getProfileById(comment.comment_by._id)" class="flex-50 flex-xs-50  comment-by c-p">{{comment.comment_by | nameFilter}}</div>
                                                        <span class="flex-50 flex-xs-50 layout-align-end-center layout-row">{{comment.date| datetime}}</span>
                                                    </div>
                                                    <div class="post-comment-text" [innerHtml]="comment.body">
                                                    </div>
                                                </div>
                                                <div class="layout-row layout-align-end">
                                                <span *ngIf="comment.comment_by._id==lu" class="delete" (click)="deleteCommentModel(data._id,comment._id,j)" tooltip="Delete Comment" tooltipplacement="left"><i class="fa fa-trash"></i></span>
                                             </div>
                                                <div class="modal fade modal-align-fix " id="commentDeleteModal">
                                                    <div class="modal-dialog">
                                                        <div class="modal-content">


                                                            <div class="modal-body setting-page flex-100 layout-row">
                                                                <div class="modal-body layout-column flex-100 ">





                                                                    <div class="modal-body">

                                                                        <div class="upload-area flex-60 layout-align-start-center layout-row">
                                                                            <h4>Are you sure you want to delete this comment?</h4>
                                                                        </div>


                                                                    </div>

                                                                </div>

                                                            </div>

                                                            <div class="modal-footer">
                                                                <button class="add-btn cancel-btn" data-dismiss="modal">Cancel</button>
                                                                <button class="add-btn" data-dismiss="modal" (click)="deleteComment(data)">Yes</button>
                                                            </div>

                                                        </div>
                                                        <!-- /.modal-content -->
                                                    </div>
                                                </div>
                                            </li>
                                        </ul>
                                    </div>
                                    <div class="post-comment-footer">
                                        <form (ngSubmit)="addComment(data._id,data)">
                                            <div class="input-group" *ngIf="postComment[data._id]">
                                                <div id="inline-editor-{{data._id}}" class="comment-editor-inline"></div>

                                                <!--<input required [(ngModel)]="postComment[data._id].comment" class="form-control" type="text" placeholder="Type a comment">-->
                                                <span class="input-group-addon c-p" tooltip="Send" (click)="addComment(data._id,data)"><i class="fa fa-paper-plane-o"></i></span>

                                            </div>
                                        </form>
                                    </div>


                                </div>
                            </div>


                        </div>
                    </div>
                    <div class="tab-pane" id="dashboard" [class.showtab]="tDashboard" [class.hidetab]="!tDashboard">
                        <div class="page-loader-section layout-row layout-align-center-center" *ngIf="!user">
                            <div class="page-loader ">Loading...</div>
                        </div>
                        <div class="layout-row layout-wrap cuurent-subject m-t-10 m-b-10 layout-align-space-between">
                            <div class="layout-column flex-49 whit-bg  border margin-r-10  flex-xs-100 res-margin m-b-10">
                                <div class="custom1-modal layout-column">
                                    <div class="custom1-modal-header layout-row layout-align-space-between pad-10 layout-wrap ">
                                        <div class="layout-row layout-wrap flex-100">
                                            <div class="header-title-icon layout-row layout-align-center-center flex-10 flex-sm-20 flex-xs-20">
                                                <img src="public/dist/img/currently-taking.png" width="20" /></div>
                                            <div class="header-title flex-80"> Currently Taking <span class="value-badge">({{user.current_subjects.length}})</span>
                                            </div>
                                        </div>
                                        <!--<span class="layout-row title_description">Click on any subject to connect with others or click icon on right to add subject you are taking / interested in.</span>-->
                                        
                                    </div>
                                    <div class="custom1-modal-body layout-row layout-wrap layout-align-start-start c-m-b-w">
                                        <div class="content-block layout-row flex-50 flex-sm-100 flex-xs-100 layout-align-space-between layout-align-xs-center-center"
                                            *ngFor="let current_subject of user.current_subjects">
                                            <div class="content-block-img bg-math layout-column layout-align-center-center">
                                                <i class="fa fa-calculator" aria-hidden="true"></i>


                                            </div>
                                            <div class="content-block-desc layout-column flex-70 c-p layout-align-xs-center-center margin-l-10" *ngIf="current_subject"
                                                (click)="getSubjectWall(current_subject.subject_id)">
                                                <h3 class="content-block-desc-title">{{current_subject.name}}</h3>
                                                <h5 class="content-block-desc-sub-title" *ngIf="current_subject.from_date">{{current_subject.from_date| date:'MMM y'}}&nbsp; to&nbsp;{{current_subject.to_date|date:'MMM y'}}</h5>
                                            </div>
                                        </div>
                                        <div class="no-count-section" *ngIf="user.current_subjects.length == 0">
                                            <i class="fa fa-exclamation-circle" aria-hidden="true"></i>&nbsp; No Current
                                            subjects found
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="layout-column flex-49 whit-bg  border flex-xs-100 res-margin m-b-10">
                                <div class="custom1-modal layout-column">
                                    <div class="custom1-modal-header layout-row layout-align-space-between-center pad-10 layout-wrap">
                                        <div class="layout-row layout-wrap flex-100">
                                            <div class="header-title-icon layout-row layout-align-center-center flex-10 flex-sm-20 flex-xs-20">
                                                 <img src="public/dist/img/future-subject.png" width="20" /></div>
                                            <div class="header-title flex-80"> Future Subjects <span class="value-badge">({{user.future_subjects.length}})</span>
                                            </div>
                                        </div>
                                        <!--<span class="layout-row title_description">Click on any subject to connect with others or click icon on right to add subject you anticipate taking in the future.</span>-->
                                        
                                    </div>
                                    <div class="custom1-modal-body layout-row layout-wrap layout-align-start-start c-m-b-w">
                                        <div class="content-block layout-row flex-50 flex-sm-100 layout-align-space-between-center flex-xs-100 layout-align-xs-center-center"
                                            *ngFor="let future_subject of user.future_subjects">
                                            <div class="content-block-img bg-bio layout-column layout-align-center-center flex-30">
                                                <i class="fa fa-heartbeat" aria-hidden="true"></i>
                                            </div>
                                            <div class="content-block-desc layout-column flex-70 c-p layout-align-xs-center-center margin-l-10" *ngIf="future_subject"
                                                (click)="getSubjectWall(future_subject.subject_id)">
                                                <h3 class="content-block-desc-title">{{future_subject.name}}</h3>
                                                <h5 class="content-block-desc-sub-title" *ngIf="future_subject.from_date">{{future_subject.from_date| date:'MMM y'}}&nbsp; to&nbsp;{{future_subject.to_date|date:'MMM y'}}</h5>
                                            </div>
                                        </div>
                                        <div class="no-count-section" *ngIf="user.future_subjects.length == 0">
                                            <i class="fa fa-exclamation-circle" aria-hidden="true"></i>&nbsp; No future subjects
                                            found
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="layout-column flex-49 whit-bg  border flex-xs-100 res-margin m-b-10">
                                <div class="custom1-modal layout-column">
                                    <div class="custom1-modal-header layout-row layout-align-space-between-center pad-10 layout-wrap">
                                        <div class="layout-row layout-wrap flex-100">
                                            <div class="header-title-icon layout-row layout-align-center-center flex-10 flex-sm-20 flex-xs-20">
                                                <img src="public/dist/img/past-subject.png" width="20" /></div>
                                            <div class="header-title flex-80"> Past Subjects <span class="value-badge">({{user.past_subjects.length}})</span>
                                            </div>
                                        </div>
                                        <!--<span class="layout-row title_description">Click on any subject to connect with others or click icon on right to add subject you took in the past.</span>-->
                                        
                                    </div>
                                    <div class="custom1-modal-body layout-row layout-wrap layout-align-start-start c-m-b-w">
                                        <div class="content-block layout-row flex-50 flex-sm-100 layout-align-space-between-center flex-xs-100 layout-align-xs-center-center"
                                            *ngFor="let past_subject of user.past_subjects">
                                            <div class="content-block-img bg-bio layout-column layout-align-center-center flex-30">
                                                <i class="fa fa-heartbeat" aria-hidden="true"></i>
                                            </div>
                                            <div class="content-block-desc layout-column flex-70 c-p layout-align-xs-center-center margin-l-10" *ngIf="past_subject"
                                                (click)="getSubjectWall(past_subject.subject_id)">
                                                <h3 class="content-block-desc-title">{{past_subject.name}}</h3>
                                                <h5 class="content-block-desc-sub-title" *ngIf="past_subject.from_date">{{past_subject.from_date| date:'MMM y'}}&nbsp; to&nbsp;{{past_subject.to_date|date:'MMM y'}}</h5>
                                            </div>
                                        </div>
                                        <div class="no-count-section" *ngIf="user.past_subjects.length == 0">
                                            <i class="fa fa-exclamation-circle" aria-hidden="true"></i>&nbsp; No Past subjects
                                            found
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="layout-column flex-49 whit-bg  border flex-xs-100 res-margin m-b-10">
                                <div class="custom1-modal layout-column">
                                    <div class="custom1-modal-header layout-row layout-align-space-between-center pad-10  layout-wrap">
                                        <div class="layout-row layout-wrap flex-100">
                                            <div class="header-title-icon layout-row layout-align-center-center flex-10 flex-sm-20 flex-xs-20">
                                                <img src="public/dist/img/subject-expert.png" width="20" /></div>
                                            <div class="header-title flex-80"> Subject Expert <span class="value-badge">({{user.subject_experts_list.length}})</span>
                                            </div>
                                        </div>
                                        <!--<span class="layout-row title_description">Click on any subject to connect with others or click icon on right to add subject you are an expert in.</span>-->
                                        
                                    </div>
                                    <div class="custom1-modal-body layout-row layout-wrap layout-align-start-start c-m-b-w">
                                        <div class="content-block layout-row flex-50 flex-sm-100 layout-align-space-between-center flex-xs-100 layout-align-xs-center-center"
                                            *ngFor="let expert of user.subject_experts_list">
                                            <div class="content-block-img bg-bio layout-column layout-align-center-center flex-30">
                                                <i class="fa fa-heartbeat" aria-hidden="true"></i>
                                            </div>
                                            <div class="content-block-desc layout-column flex-70 c-p layout-align-xs-center-center margin-l-10" *ngIf="expert" (click)="getSubjectWall(expert.subject_id)">
                                                <h3 class="content-block-desc-title">{{expert.name}}</h3>
                                            </div>
                                        </div>
                                        <div class="no-count-section" *ngIf="user.subject_experts_list.length == 0">
                                            <i class="fa fa-exclamation-circle" aria-hidden="true"></i>&nbsp; No subject
                                            expert found
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="layout-column flex-49 whit-bg  border flex-xs-100 res-margin m-b-10">
                                <div class="custom1-modal layout-column">
                                    <div class="custom1-modal-header layout-row layout-align-space-between-center pad-10 layout-wrap">
                                        <div class="layout-row layout-wrap flex-100">
                                            <div class="header-title-icon layout-row layout-align-center-center flex-10 flex-sm-20 flex-xs-20">
                                              <img src="public/dist/img/subject-teacher.png" width="20" /></div>
                                            <div class="header-title flex-80"> Teacher of Subject <span class="value-badge">({{user.subject_teacher_list.length}})</span>
                                            </div>
                                        </div>
                                        <!--<span class="layout-row title_description">Click on any subject to connect with others or click icon on right to add subject if you are a teacher.</span>-->
                                        
                                    </div>
                                    <div class="custom1-modal-body layout-row layout-wrap layout-align-start-start c-m-b-w">
                                        <div class="content-block layout-row flex-50 flex-sm-100 layout-align-space-between-center flex-xs-100 layout-align-xs-center-center"
                                            *ngFor="let teacher of user.subject_teacher_list">
                                            <div class="content-block-img bg-bio layout-column layout-align-center-center flex-30">
                                                <i class="fa fa-heartbeat" aria-hidden="true"></i>
                                            </div>
                                            <div class="content-block-desc layout-column flex-70 c-p layout-align-xs-center-center margin-l-10" *ngIf="teacher" (click)="getSubjectWall(teacher.subject_id)">
                                                <h3 class="content-block-desc-title">{{teacher.name}}</h3>
                                            </div>
                                        </div>
                                        <div class="no-count-section" *ngIf="user.subject_teacher_list.length == 0">
                                            <i class="fa fa-exclamation-circle" aria-hidden="true"></i>&nbsp; No subject
                                            teacher found
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="layout-column flex-49 whit-bg  border flex-xs-100 res-margin m-b-10">
                                <div class="custom1-modal layout-column">
                                    <div class="custom1-modal-header layout-row layout-align-space-between-center pad-10 layout-wrap">
                                        <div class="layout-row layout-wrap flex-100">
                                            <div class="header-title-icon layout-row layout-align-center-center flex-10 flex-sm-20 flex-xs-20">
                                                <img src="public/dist/img/just-interested.png" width="20" /></div>
                                            <div class="header-title flex-80"> Just Interested <span class="value-badge">({{user.just_interested_list.length}})</span>
                                            </div>
                                        </div>
                                        <!--<span class="layout-row title_description">Click on any subject to connect with others or click icon on right to add subject if you are interested.</span>-->
                                        
                                    </div>
                                    <div class="custom1-modal-body layout-row layout-wrap layout-align-start-start c-m-b-w">
                                        <div class="content-block layout-row flex-50 flex-sm-100 layout-align-space-between-center flex-xs-100 layout-align-xs-center-center"
                                            *ngFor="let interest of user.just_interested_list">
                                            <div class="content-block-img bg-bio layout-column layout-align-center-center flex-30">
                                                <i class="fa fa-heartbeat" aria-hidden="true"></i>
                                            </div>
                                            <div class="content-block-desc layout-column flex-70 c-p layout-align-xs-center-center margin-l-10" *ngIf="interest" (click)="getSubjectWall(interest.subject_id)">
                                                <h3 class="content-block-desc-title">{{interest.name}}</h3>
                                            </div>
                                        </div>
                                        <div class="no-count-section" *ngIf="user.just_interested_list.length == 0">
                                            <i class="fa fa-exclamation-circle" aria-hidden="true"></i>&nbsp; No interested
                                            user found
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!--<div class="layout-row layout-wrap col-deg-title">
                            <div class="header-title pad-10">Click on any college / degree to connect with others or click icon to add college / degree.</div>
                         </div>-->
                        <div class="">
                            <div class="layout-column layout-align-space-between layout-sm-column layout-xs-column">
                                <div class="flex-100 flex-sm-100 flex-xs-100">
                                    <div class="layout-column layout-align-space-between">
                                        <!-- /.box-header -->
                                        <div class="padding-0">
                                            <div class="layout-row flex-100  layout-align-space-between layout-wrap ">
                                                <div class="flex-49" *ngFor="let current_college of user.current_colleges">
                                                    <div class="m-b-10 flex-100">
                                                        <div class="content-block layout-row layout-align-space-between border whit-bg college-b border-radius-3px">
                                                            <div class="layout-column layout-align-center-center flex-20 flex-sm-30 flex-xs-30 abnk">
                                                                <i class="fa fa-bank" aria-hidden="true"></i>
                                                            </div>
                                                            <div class="content-block-desc layout-column flex-80 layout-wrap layout-row margin-l-10">
                                                                <h3 class="content-block-desc-title flex-xs-80">Current College</h3>
                                                                <div class="detaial flex-80 c-p" (click)="getCollegeWall(current_college.college_id)">
                                                                    <h5 class="content-block-desc-sub-title">{{current_college.name}}</h5>
                                                                    <h5 class="content-block-desc-title flex-xs-80" *ngIf="current_college.from_date">{{current_college.from_date| date:'MMM y'}}&nbsp; to&nbsp;{{current_college.to_date|date:'MMM y'}}</h5>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="flex-49" *ngFor="let past_college of user.past_colleges">
                                                    <div class="m-b-10 flex-100">
                                                        <div class="content-block layout-row layout-align-space-between border whit-bg college-b border-radius-3px past-col">
                                                            <div class="layout-column layout-align-center-center flex-20 flex-sm-30 abnk flex-xs-30">
                                                                <i class="fa fa-bank" aria-hidden="true"></i>
                                                            </div>
                                                            <div class="content-block-desc layout-column flex-80 layout-wrap layout-row margin-l-10">
                                                                <h3 class="content-block-desc-title flex-xs-80">Past College</h3>
                                                                <div class="detaial flex-80 c-p" (click)="getCollegeWall(past_college.college_id)">
                                                                    <h5 class="content-block-desc-sub-title">{{past_college.name}}</h5>
                                                                    <h5 class="content-block-desc-title flex-xs-80" *ngIf="past_college.from_date">{{past_college.from_date| date:'MMM y'}}&nbsp; to&nbsp;{{past_college.to_date|date:'MMM y'}}</h5>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="flex-49" *ngFor="let future_college of user.future_colleges">
                                                    <div class="m-b-10 flex-100">
                                                        <div class="content-block layout-row layout-align-space-between border whit-bg college-b border-radius-3px past-col">
                                                            <div class="layout-column layout-align-center-center flex-20 flex-sm-30 abnk flex-xs-30">
                                                                <i class="fa fa-bank" aria-hidden="true"></i>
                                                            </div>
                                                            <div class="content-block-desc layout-column flex-80 layout-wrap layout-row margin-l-10">
                                                                <h3 class="content-block-desc-title flex-xs-80">Future College</h3>
                                                                <div class="detaial flex-80 c-p" (click)="getCollegeWall(future_college.college_id)">
                                                                    <h5 class="content-block-desc-sub-title">{{future_college.name}}</h5>
                                                                    <h5 class="content-block-desc-title flex-xs-80" *ngIf="future_college.from_date">{{future_college.from_date| date:'MMM y'}}&nbsp; to&nbsp;{{future_college.to_date|date:'MMM y'}}</h5>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="layout-column layout-align-space-between">
                                        <div class="padding-0">
                                            <div class="layout-row flex-100  layout-align-space-between layout-wrap ">
                                                <div class="flex-49" *ngFor="let current_degree of user.current_degrees">
                                                    <div class="m-b-10 flex-100">
                                                        <div class="content-block layout-row layout-align-space-between border whit-bg college-b border-radius-3px">
                                                            <div class="layout-column layout-align-center-center flex-20 flex-sm-30 flex-xs-30 abnk">
                                                                <i class="fa fa-graduation-cap" aria-hidden="true"></i>
                                                            </div>
                                                            <div class="content-block-desc layout-column flex-80 layout-wrap layout-row margin-l-10">
                                                                <h3 class="content-block-desc-title flex-xs-80">Current Degree</h3>
                                                                <div class="detaial flex-80 c-p" (click)="getDegreeWall(current_degree.degree_id)">
                                                                    <h5 class="content-block-desc-sub-title">{{current_degree.name}}</h5>
                                                                    <h5 class="content-block-desc-title flex-xs-80" *ngIf="current_degree.from_date">{{current_degree.from_date| date:'MMM y'}}&nbsp; to&nbsp;{{current_degree.to_date|date:'MMM y'}}</h5>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="flex-49" *ngFor="let past_degree of user.past_degrees">
                                                    <div class="m-b-10 flex-100">
                                                        <div class="content-block layout-row layout-align-space-between border whit-bg college-b border-radius-3px past-col">
                                                            <div class="layout-column layout-align-center-center flex-20 flex-sm-30 abnk flex-xs-30">
                                                                <i class="fa fa-graduation-cap" aria-hidden="true"></i>
                                                            </div>
                                                            <div class="content-block-desc layout-column flex-80 layout-wrap layout-row margin-l-10">
                                                                <h3 class="content-block-desc-title flex-xs-80 ">Past Degree</h3>
                                                                <div class="detaial flex-80 c-p" (click)="getDegreeWall(past_degree.degree_id)">
                                                                    <h5 class="content-block-desc-sub-title">{{past_degree.name}}</h5>
                                                                    <h5 class="content-block-desc-title flex-xs-80" *ngIf="past_degree.from_date">{{past_degree.from_date| date:'MMM y'}}&nbsp; to&nbsp;{{past_degree.to_date|date:'MMM y'}}</h5>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="flex-49" *ngFor="let future_degree of user.future_degrees">
                                                    <div class="m-b-10 flex-100">
                                                        <div class="content-block layout-row layout-align-space-between border whit-bg college-b border-radius-3px past-col">
                                                            <div class="layout-column layout-align-center-center flex-20 flex-sm-30 abnk flex-xs-30">
                                                                <i class="fa fa-graduation-cap" aria-hidden="true"></i>
                                                            </div>
                                                            <div class="content-block-desc layout-column flex-80 layout-wrap layout-row margin-l-10">
                                                                <h3 class="content-block-desc-title flex-xs-80 ">Future Degree</h3>
                                                                <div class="detaial flex-80 c-p" (click)="getDegreeWall(future_degree.degree_id)">
                                                                    <h5 class="content-block-desc-sub-title">{{future_degree.name}}</h5>
                                                                    <h5 class="content-block-desc-title flex-xs-80" *ngIf="future_degree.from_date">{{future_degree.from_date| date:'MMM y'}}&nbsp; to&nbsp;{{future_degree.to_date|date:'MMM y'}}</h5>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="box box-warning  modal-border-box">
                                        <div class="box-header">

                                            <div class=" pull-left flex-inline padding-5 col-sm-10">
                                                <h3 class="title margin-0">Skill &amp; Endorsements</h3>
                                            </div>
                                            <div class=" pull-right">
                                                <button class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
                                            </div>
                                            <!-- /.box-tools -->
                                        </div>
                                        <!-- /.box-header -->
                                        <div class="box-body padding-10 p-b-20" *ngIf="user.skills">
                                            <div class="layout-column skill-row" *ngFor="let skill of skills">
                                                <div class="layout-row layout-align-space-between" *ngIf="skill.skill_id">
                                                    <div class="custom-bullet layout-row layout-align-space-between flex-40 flex-xs-80">
                                                        <div class="c-b-body layout-row layout-align-center-center">

                                                            <span class="">{{skill.skill_id.title}}</span>
                                                            <div class="c-b-head layout-column layout-align-center-center">
                                                                <span class="">{{skill.endorse.length}}</span>
                                                            </div>
                                                        </div>

                                                        <div *ngIf="user.is_logged_user==false && user.current_friends_status_code==3">
                                                            <div *ngIf="skill.is_endorsed" tooltip="Cancel Endorsement" class="endorse-btn" (click)="endorseSkill(skill.skill_id._id,2)">
                                                                <i class="fa fa-minus" aria-hidden="true"></i>
                                                            </div>
                                                            <div *ngIf="!skill.is_endorsed" class="endorse-btn" tooltip="Endrorse Skill" (click)="endorseSkill(skill.skill_id._id,1)">
                                                                <i class="fa fa-plus" aria-hidden="true"></i>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="flex-45 layout-row  layout-align-end-center flex-xs-20">
                                                        <span *ngFor="let endorse of skill.listedusers" class="related-user" (click)="getProfileById(endorse.user_id._id)">
                                        <img *ngIf="endorse.user_id.photo" class="c-p" src="public/files/ProfilePicture/{{endorse.user_id.photo}}" alt="{{endorse.user_id.fname}}">
                                        <img *ngIf="!endorse.user_id.photo" class="c-p" src="public/files/ProfilePicture/no_image.png" alt="{{endorse.user_id.fname}}">
                                    </span>
                                                        <!--<i class="fa fa-caret-right" aria-hidden="true"></i>-->
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <!-- /.box-body -->
                                        <div class="no-count-section" *ngIf="user.skills=='' || user.skills==null">
                                            <i class="fa fa-exclamation-circle" aria-hidden="true"></i>&nbsp; No Skills Added
                                        </div>
                                    </div>
                                </div>

                                <!--##############################################-->

                                <div class="layout-row layout-wrap layout-align-space-between fri-folblock">
                                    <div class="box box-warning box-solid border flex-32 flex-xs-100">
                                        <div class="box-header with-border box-header-bg border-radius-3px">
                                            <h3 class="box-title semi-bold">Friends </h3>
                                            <span class="count-num pull-right">{{user.friendsCount}}</span>
                                            <!-- <div class="box-tools pull-right">
                                                <button class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>

                                            </div> -->
                                            <!-- /.box-tools -->
                                        </div>
                                        <!-- /.box-header -->
                                        <div class=" padding-0">
                                            <div class="">
                                                <div *ngIf="user.friends && user.friends!=''">
                                                    <ul class="users-list layout-row layout-wrap clearfix f-custom-box">
                                                        <li class="flex-33 flex-sm-33" *ngFor="let friend of user.friends | slice:0:6;let f = index">
                                                            <span (mouseover)="UserPopupOpen($event,friend.friend_id)">
                                                            <a (click)="getProfileById(friend.friend_id)" class="member-border display-full c-p">
                                                <img *ngIf="friend.photo" src="public/files/ProfilePicture/{{friend.photo}}" alt="User Image">
                                                <img *ngIf="!friend.photo" src="public/files/ProfilePicture/no_image.png" alt="User Image">
                                                <span style="display:inline-block">{{friend.name}}</span>
                                                            </a>
                                                            </span>
                                                            <div class="setting-page flex-100 layout-row current-student-popup">
                                                                <div class="setting-page flex-100 layout-row" *ngIf="studentUser.userDetails">
                                                                    <a *ngIf="studentUser.userDetails.photo" class="member-border display-full c-p" (click)="getProfileById(friend.friend_id)">
                                                                        <img src="public/files/ProfilePicture/{{studentUser.userDetails.photo}}" style="height: 31px; width: 31px;" alt="User Image">
                                                                    </a>
                                                                    <a *ngIf="!studentUser.userDetails.photo" class="member-border display-full c-p" (click)="getProfileById(friend.friend_id)">
                                                                        <img src="public/files/ProfilePicture/no_image.png" style="height: 31px; width: 31px;" alt="User Image">
                                                                    </a>
                                                                    <div class="flex-100 layout-column">
                                                                        <h4 class="m-b-10" *ngIf="studentUser.userDetails && studentUser.userDetails?.fname">{{studentUser.userDetails.fname}}<span *ngIf="studentUser.userDetails.lname">&nbsp;{{studentUser.userDetails.lname}}</span></h4>
                                                                        <span class="font-12">{{studentUser.friendsCount}} Friends, {{studentUser.followersCount}} Followers, {{studentUser.followingsCount}} Following</span>
                                                                    </div>
                                                                </div>
                                                                <div class="setting-page flex-100 layout-row" style="width:100%" *ngIf="studentUser.is_logged_user == false">
                                                                    <button *ngIf="studentUser.current_friends_status_code == 6" (click)="addFriend(studentUser)" type="button" class="btn bg-orange btn-flat flex-40 flex-xs-100">Add as Friend</button>
                                                                    <button *ngIf="studentUser.current_friends_status_code == 3" type="button" class="btn disabled bg-orange btn-flat flex-40 flex-xs-100">Already Friend</button>
                                                                    <button *ngIf="studentUser.current_friends_status_code == 1" (click)="cancelRequest(studentUser)" type="button" class="btn bg-orange btn-flat flex-40 flex-xs-100">Cancel Request</button>
                                                                    <button *ngIf="studentUser.current_friends_status_code == 2" type="button" class="btn bg-orange btn-flat flex-40 flex-xs-100"
                                                                        (click)="getFriendList()">Accept Request</button>
                                                                    <button *ngIf="studentUser.following_friend_status_code == 6" (click)="onFollow(studentUser)" type="button" class="btn bg-orange btn-flat flex-40 flex-xs-100">Follow</button>
                                                                    <button *ngIf="studentUser.following_friend_status_code == 3" (click)="onUnFollow(studentUser)" type="button" class="btn bg-orange btn-flat flex-40 flex-xs-100">UnFollow</button>
                                                                </div>
                                                            </div>
                                                        </li>

                                                    </ul>
                                                </div>
                                                <div class="no-count-section" *ngIf="user.friends=='' || user.friends == 0">
                                                    <i class="fa fa-exclamation-circle" aria-hidden="true"></i>&nbsp; No
                                                    Friends
                                                </div>
                                            </div>

                                            <div class="box-footer text-center " *ngIf="user.friends && user.friends!=''">
                                                <a class="uppercase" [routerLink]="['ProfileConnectionComponent',{userId:user.userDetails._id,id:1}]">View more</a>
                                                <!--<a  class="uppercase" [routerLink]="['Profile.Connection',{userId:115,id:2}]">View more</a>-->
                                            </div>
                                        </div>
                                        <!-- /.box-body -->
                                    </div>
                                    <div class="box box-warning box-solid border flex-32 flex-xs-100">
                                        <div class="box-header with-border box-header-bg border-radius-3px">
                                            <h3 class="box-title semi-bold">Followers </h3>
                                            <span class="count-num pull-right">{{user.followersCount}}</span>
                                            <!-- <div class="box-tools pull-right">
                                                <button class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>

                                            </div> -->
                                            <!-- /.box-tools -->
                                        </div>
                                        <!-- /.box-header -->
                                        <div class=" padding-0">
                                            <div class="">
                                                <div *ngIf="user.followers && user.followers!=''">
                                                    <ul class="users-list clearfix f-custom-box layout-row layout-wrap">
                                                        <li (mouseover)="UserPopupOpen($event,follower.follower_id)" class="flex-33 flex-sm-33" *ngFor="let follower of user.followers | slice:0:6;let f = index"
                                                            [class.clear-both]="f == 3">
                                                            <a (click)="getProfileById(follower.follower_id)" class="member-border display-full c-p">
                                                                <img *ngIf="follower.photo" src="public/files/ProfilePicture/{{follower.photo}}" alt="User Image">
                                                                <img *ngIf="!follower.photo" src="public/files/ProfilePicture/no_image.png" alt="User Image">     
                                                                <span style="display:inline-block">{{follower.name}}</span>                                                           
                                                            </a>
                                                            <div class="setting-page flex-100 layout-row current-student-popup">
                                                                <div class="setting-page flex-100 layout-row" *ngIf="studentUser.userDetails">
                                                                    <a *ngIf="studentUser.userDetails.photo" class="member-border display-full c-p" (click)="getProfileById(follower.follower_id)">
                                                                        <img src="public/files/ProfilePicture/{{studentUser.userDetails.photo}}" style="height: 31px; width: 31px;" alt="User Image">
                                                                    </a>
                                                                    <a *ngIf="!studentUser.userDetails.photo" class="member-border display-full c-p" (click)="getProfileById(follower.follower_id)">
                                                                        <img src="public/files/ProfilePicture/no_image.png" style="height: 31px; width: 31px;" alt="User Image">
                                                                    </a>
                                                                    <div class="flex-100 layout-column">
                                                                        <h4 class="m-b-10" *ngIf="studentUser.userDetails && studentUser.userDetails?.fname">{{studentUser.userDetails.fname}}<span *ngIf="studentUser.userDetails.lname">&nbsp;{{studentUser.userDetails.lname}}</span></h4>
                                                                        <span class="font-12">{{studentUser.friendsCount}} Friends, {{studentUser.followersCount}} Followers, {{studentUser.followingsCount}} Following</span>
                                                                    </div>
                                                                </div>
                                                                <div class="setting-page flex-100 layout-row" style="width:100%" *ngIf="studentUser.is_logged_user == false">
                                                                    <button *ngIf="studentUser.current_friends_status_code == 6" (click)="addFriend(studentUser)" type="button" class="btn bg-orange btn-flat flex-40 flex-xs-100">Add as Friend</button>
                                                                    <button *ngIf="studentUser.current_friends_status_code == 3" type="button" class="btn disabled bg-orange btn-flat flex-40 flex-xs-100">Already Friend</button>
                                                                    <button *ngIf="studentUser.current_friends_status_code == 1" (click)="cancelRequest(studentUser)" type="button" class="btn bg-orange btn-flat flex-40 flex-xs-100">Cancel Request</button>
                                                                    <button *ngIf="studentUser.current_friends_status_code == 2" type="button" class="btn bg-orange btn-flat flex-40 flex-xs-100"
                                                                        (click)="getFriendList()">Accept Request</button>
                                                                    <button *ngIf="studentUser.following_friend_status_code == 6" (click)="onFollow(studentUser)" type="button" class="btn bg-orange btn-flat flex-40 flex-xs-100">Follow</button>
                                                                    <button *ngIf="studentUser.following_friend_status_code == 3" (click)="onUnFollow(studentUser)" type="button" class="btn bg-orange btn-flat flex-40 flex-xs-100">UnFollow</button>
                                                                </div>
                                                            </div>
                                                        </li>
                                                    </ul>
                                                </div>
                                                <div class="no-count-section" *ngIf="user.followers=='' || user.followers == 0">
                                                    <i class="fa fa-exclamation-circle" aria-hidden="true"></i>&nbsp; No
                                                    Followers
                                                </div>
                                            </div>

                                            <div class="box-footer text-center  " *ngIf="user.followers && user.followers!=''">
                                                <a class="uppercase" [routerLink]="['ProfileConnectionComponent',{userId:user.userDetails._id,id:2}]">View more</a>
                                                <!--<a  class="uppercase" [routerLink]="['Profile.Connection',{userId:115,id:2}]">View more</a>-->
                                            </div>
                                        </div>
                                        <!-- /.box-body -->
                                    </div>
                                    <!-- /.box -->
                                    <div class="box box-warning box-solid border flex-32 flex-xs-100">
                                        <div class="box-header with-border box-header-bg border-radius-3px">
                                            <h3 class="box-title semi-bold">Following </h3>
                                            <span class="count-num pull-right">{{user.followingsCount}}</span>
                                            <!-- <div class="box-tools pull-right">
                                                <button class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>

                                            </div> -->
                                            <!-- /.box-tools -->
                                        </div>
                                        <!-- /.box-header -->
                                        <div class="padding-0">
                                            <div class="">
                                                <div *ngIf="user.followings && user.followings!=''">
                                                    <ul class="users-list clearfix f-custom-box layout-row layout-wrap">
                                                        <li (mouseover)="UserPopupOpen($event,following.following_id)" class="flex-33 flex-sm-33" *ngFor="let following of user.followings | slice:0:6;let f2 = index">
                                                            <a (click)="getProfileById(following.following_id)" class="member-border display-full c-p">
                                                                <img *ngIf="following.photo" src="public/files/ProfilePicture/{{following.photo}}" alt="User Image">
                                                                <img *ngIf="!following.photo" src="public/files/ProfilePicture/no_image.png" alt="User Image">                    
                                                                <span style="display:inline-block">{{following.name}}</span>                                                           
                                                            </a>
                                                            <div class="setting-page flex-100 layout-row current-student-popup">
                                                                <div class="setting-page flex-100 layout-row" *ngIf="studentUser.userDetails">
                                                                    <a *ngIf="studentUser.userDetails.photo" class="member-border display-full c-p" (click)="getProfileById(following.following_id)">
                                                                        <img src="public/files/ProfilePicture/{{studentUser.userDetails.photo}}" style="height: 31px; width: 31px;" alt="User Image">
                                                                    </a>
                                                                    <a *ngIf="!studentUser.userDetails.photo" class="member-border display-full c-p" (click)="getProfileById(following.following_id)">
                                                                        <img src="public/files/ProfilePicture/no_image.png" style="height: 31px; width: 31px;" alt="User Image">
                                                                    </a>
                                                                    <div class="flex-100 layout-column">
                                                                        <h4 class="m-b-10" *ngIf="studentUser.userDetails && studentUser.userDetails?.fname">{{studentUser.userDetails.fname}}<span *ngIf="studentUser.userDetails.lname">&nbsp;{{studentUser.userDetails.lname}}</span></h4>
                                                                        <span class="font-12">{{studentUser.friendsCount}} Friends, {{studentUser.followersCount}} Followers, {{studentUser.followingsCount}} Following</span>
                                                                    </div>
                                                                </div>
                                                                <div class="setting-page flex-100 layout-row" style="width:100%" *ngIf="studentUser.is_logged_user == false">
                                                                    <button *ngIf="studentUser.current_friends_status_code == 6" (click)="addFriend(studentUser)" type="button" class="btn bg-orange btn-flat flex-40 flex-xs-100">Add as Friend</button>
                                                                    <button *ngIf="studentUser.current_friends_status_code == 3" type="button" class="btn disabled bg-orange btn-flat flex-40 flex-xs-100">Already Friend</button>
                                                                    <button *ngIf="studentUser.current_friends_status_code == 1" (click)="cancelRequest(studentUser)" type="button" class="btn bg-orange btn-flat flex-40 flex-xs-100">Cancel Request</button>
                                                                    <button *ngIf="studentUser.current_friends_status_code == 2" type="button" class="btn bg-orange btn-flat flex-40 flex-xs-100"
                                                                        (click)="getFriendList()">Accept Request</button>
                                                                    <button *ngIf="studentUser.following_friend_status_code == 6" (click)="onFollow(studentUser)" type="button" class="btn bg-orange btn-flat flex-40 flex-xs-100">Follow</button>
                                                                    <button *ngIf="studentUser.following_friend_status_code == 3" (click)="onUnFollow(studentUser)" type="button" class="btn bg-orange btn-flat flex-40 flex-xs-100">UnFollow</button>
                                                                </div>
                                                            </div>
                                                        </li>

                                                    </ul>
                                                </div>
                                                <div class="no-count-section" *ngIf="user.followings=='' || user.followings == 0">
                                                    <i class="fa fa-exclamation-circle" aria-hidden="true"></i>&nbsp; No
                                                    Followings
                                                </div>
                                            </div>

                                            <div class="box-footer text-center  " *ngIf="user.followings && user.followings!=''">
                                                <a class="uppercase" [routerLink]="['ProfileConnectionComponent',{userId:user.userDetails._id,id:3}]">View more</a>
                                                <!--<a  class="uppercase" [routerLink]="['Profile.Connection',{userId:115,id:3}]">View more</a>-->
                                            </div>
                                        </div>
                                        <!-- /.box-body -->
                                    </div>
                                    <!-- /.box -->
                                </div>
                                <!-- /.box hello -->
                            </div>
                            <!-- /.box hello -->
                        </div>
                    </div>

                    <div class="tab-pane" id="timeline" (window:scroll)="onScrollListTimeline($event)" [class.showtab]="tTimeline" [class.hidetab]="!tTimeline">
                        <div class="page-loader-section layout-row layout-align-center-center" *ngIf="!timelinedata || timeLoader">
                            <div class="page-loader ">Loading...</div>
                        </div>
                        <div class="no-data" *ngIf="timelinedata?.length == 0">No data found</div>
                        <ul class="timeline timeline-inverse">

                            <li *ngFor="let data of timelinedata; let j=index">
                                <!--<i [ngClass]="getclassList(data)"></i>-->
                                

                                <div class="timeline-item flex-100" *ngIf="data.friend_id">
                                    <h3 class="timeline-header no-border user-block">
                                        <a><img class=" " src="public/files/ProfilePicture/{{data.friend_id.photo}}" alt="User Image"
                                                *ngIf="data.friend_id.photo">
                                            <img class=" " src="public/files/ProfilePicture/no_image.png" alt="User Image" *ngIf="!data.friend_id.photo">
                                            <a class="c-p color-red" (click)="getProfileById(data.friend_id._id)">{{data.friend_id | nameFilter}}</a>
                                        <span class="timeline-span" *ngIf="data.title">{{data.title}}</span> of
                                        <a *ngIf="data.created_by" class="c-p color-red" (click)="getProfileById(data.created_by._id)">{{data.created_by | nameFilter }}</a>
                                        <div class="post-time"><i class="fa fa-clock-o"></i> &nbsp;{{data.timestamp| datetime}}</div>
                                        </a>
                                    </h3>
                                </div>
                <div class="timeline-item flex-100" *ngIf="data.post_id">
                        <div class="timeline-header no-border user-block layout-row layout-align-start-start">
                                <div class="layout-row layout-align-start-start flex-80">
                                <span class="c-p timeline-header-img" (click)="getProfileById(data.post_id.created_by._id)">
                                        <img class=" " src="public/files/ProfilePicture/{{data.post_id.created_by.photo}}" alt="User Image" *ngIf="data.post_id.created_by.photo">
                                        <img class=" " src="public/files/ProfilePicture/no_image.png" alt="User Image" *ngIf="!data.created_by.photo">
                                    </span>
                                  <div class="layout-column">
                                        
                                       
                                            <span class="timeline-header">
                                        <a class="color-red c-p "> {{data.post_id.created_by | nameFilter}}</a>                                        
                                                <span class="post-type"> {{data.title}}</span><span class="post-type" *ngIf="data.post_id.share_type == 2"> to <a class="c-p" (click)="getProfileById(user.userDetails._id)"><span class="color-red" *ngIf="user.userDetails.fname">{{user.userDetails | nameFilter }}</span></a>
                                                </span>
                                                <span (click)="getDegreeWall(data.post_id.degree_id._id)" *ngIf="data.post_id.degree_id" class="post-type"> <span class="post-type" *ngIf="(data.post_type != 8) || (data.post_type == 8 && data.post_id.origin_creator)">in</span>                                        <a class="color-red c-p"> {{data.post_id.degree_id.name}}</a></span>
                                                <span (click)="getCollegeWall(data.post_id.college_id._id)" *ngIf="data.post_id.college_id" class="post-type"> <span class="post-type" *ngIf="(data.post_type != 8) || (data.post_type == 8 && data.post_id.origin_creator)">in</span>                                        <a class="color-red c-p"> {{data.post_id.college_id.name}}</a></span>
                                                <span (click)="getSubjectWall(data.post_id.subject_id._id)" *ngIf="data.post_id.subject_id" class="post-type"> <span class="post-type" *ngIf="(data.post_type != 8) || (data.post_type == 8 && data.post_id.origin_creator)">in</span>                                        <a class="color-red c-p"> {{data.post_id.subject_id.name}}</a></span>
                                                <!-- <span  *ngIf="data.post_id.group_id" class="post-type"> 
                                                        <span class="post-type" *ngIf="data.post_id.group_id.subject_id">in subject group -</span>                 
                                                        <span class="post-type" *ngIf="data.post_id.group_id.college_id">in college group -</span>                 
                                                        <span class="post-type" *ngIf="data.post_id.group_id.degree_id">in degree group -</span>                 
                                                        <a class="color-red c-p" (click)="getGroupWall(data.post_id.group_id._id)">"{{data.post_id.group_id.title}}"</a></span> -->
                                                <span class="post-type" *ngIf="data.post_id.group_id"><span> in <span *ngIf="data.post_id.group_id.title" (click)="getGroupWall(data.post_id.group_id._id)"><span class="color-red c-p">{{data.post_id.group_id.title}}</span> </span>                                        group under</span>
                                                <span class="post-type" *ngIf="data.post_id.group_id.subject_id" (click)="getSubjectWall(data.post_id.group_id.subject_id._id)"><a class="color-red c-p">{{data.post_id.group_id.subject_id.name}}</a></span>
                                                <span class="post-type" *ngIf="data.post_id.group_id.college_id" (click)="getCollegeWall(data.post_id.group_id.college_id._id)"><a class="color-red c-p">{{data.post_id.group_id.college_id.name}}</a></span>
                                                <span class="post-type" *ngIf="data.post_id.group_id.degree_id" (click)="getDegreeWall(data.post_id.group_id.degree_id._id)"><a class="color-red c-p">{{data.post_id.group_id.degree_id.name}}</a></span>
                                                </span>
                                        </span>
                                       <div class="post-time"><i class="fa fa-clock-o"></i> {{data.timestamp| datetime}} </div>
                                       
                                    </div>
                                    
                                   
                                 
                                </div>
                                        <div class="layout-row  flex-20 layout-align-end">
                                            <div class="time layout-align-start-center layout-row">
                                                <span *ngIf="data.created_by?._id==page.userIdGlobal"  class="close-btn-div c-p"  (click)="deletePostModel(data.post_id,j)" tooltip="Delete Post" tooltipPlacement="right"><i class="fa fa-times"></i></span>
                                            </div>
                                    
                                           <button class="btn bg-orange btn-flat" (click)="page.onClickUnFollow(data.post_id.created_by._id)" type="button" *ngIf="(data.post_id.created_by._id!=page.userIdGlobal) && (data.post_id.created_by._id | followunfollowstatus)">UnFollow</button>
                                            <button class="btn bg-orange btn-flat" (click)="page.onClickFollow(data.post_id.created_by._id)" type="button" *ngIf="(data.post_id.created_by._id!=page.userIdGlobal) && !(data.post_id.created_by._id | followunfollowstatus)">Follow</button>
                                        </div>

                                
                        </div>

                                                            
                                    <div class="full-img" *ngIf="data.post_id.photo[0]" (click)="getDetailView(data.post_id._id)">
                                        <p class="message text-formatting" *ngIf="data.post_id.shared_title" embedDirective>{{data.post_id.shared_title}}</p>
                                        <h4 class="message text-formatting" *ngIf="data.post_id.name && data.post_id.name!=null " embedDirective>{{data.post_id.name}}</h4>
                                        <img *ngIf="data.post_id.photo[0].title==null" class="img-responsive" src="public/files/{{getFoldername(data.post_id.types)}}/Photos/{{data.post_id.origin_creator?data.post_id.origin_creator._id:data.post_id.created_by._id}}/{{data.post_id.photo[0].file_name}}"
                                            alt="Photo">
                                        <img *ngIf="data.post_id.photo[0].title!=null" class="img-responsive" src="{{data.post_id.photo[0].title}}" alt="Photo">
                                    </div>
                                    <div class="timeline-body layout-column" *ngIf="data.post_id.link[0]">
                                        <p class="message text-formatting" *ngIf="data.post_id.shared_title" embedDirective>{{data.post_id.shared_title}}</p>
                                        <span class="message text-formatting" *ngIf="data.post_id.link[0].title" embedDirective>{{data.post_id.link[0].title}}</span><br>
                                        <span class="layout-row">Link: <span class="link-address" *ngIf="data.post_id.link[0].description"><a href="{{data.post_id.link[0].description}}" target="_blank" embedDirective class="link-desc-a">{{data.post_id.link[0].description}}</a></span></span>
                                    </div>
                                    <div class="timeline-body layout-column" *ngIf="data.post_id.video[0]" (click)="getDetailVideoView(data.post_id._id)">
                                        <p class="message text-formatting" *ngIf="data.post_id.shared_title" embedDirective>{{data.post_id.shared_title}}</p>
                                        <h4 class=" message text-formatting" *ngIf="data.post_id.name && data.post_id.name!=null" embedDirective>{{data.post_id.name}}</h4><br>
                                        <video #cmp width="100%" height="100%" controls *ngIf="data.post_id.video[0].title==null">
                                            <source src="public/files/{{getFoldername(data.post_id.types)}}/Videos/{{data.post_id.origin_creator?data.post_id.origin_creator._id:data.post_id.created_by._id}}/{{data.post_id.video[0].file_name}}"
                                                type="video/mp4">
                                        </video>
                                        <iframe *ngIf="data.post_id.video[0].title!=null" width="100%" height="320px" [src]="data.post_id.video[0].title | youtubeSafeUrl"
                                            frameborder="0" allowfullscreen>
                                        </iframe>
                                    </div>
                                    <div class="timeline-body layout-column" *ngIf="data.post_id.audio[0] && data.post_id.name !==null" (click)="getDetailView(data.post_id._id)">
                                        <p class="message text-formatting" *ngIf="data.post_id.shared_title" embedDirective>{{data.post_id.shared_title}}</p>
                                        <h4 class=" message text-formatting" *ngIf="data.post_id.name" embedDirective>{{data.post_id.name}}</h4><br>
                                        <h4 class=" message text-formatting" *ngIf="data.post_id.audio[0].file_name">{{data.post_id.audio[0].file_name | documentNameFilter}}</h4>
                                        <audio controls *ngIf="data.post_id.audio[0].title==null">
                                            <source src="public/files/{{getFoldername(data.post_id.types)}}/Audios/{{data.post_id.origin_creator?data.post_id.origin_creator._id:data.post_id.created_by._id}}/{{data.post_id.audio[0].file_name}}"
                                                type="audio/ogg">
                                        </audio>
                                        <audio controls *ngIf="data.post_id.audio[0].title!=null">
                                            <source src="{{data.post_id.audio[0].title}}" type="audio/mp4">
                                        </audio>
                                    </div>
                                    <div class="message text-formatting" *ngIf="data.post_id.message">
                                        <p class="message text-formatting" *ngIf="data.post_id.shared_title" embedDirective>{{data.post_id.shared_title}}</p>
                                        <p embedDirective>{{data.post_id.message}}</p>
                                    </div>
                                    <div class="message text-formatting" *ngIf="data.post_id.question">
                                        <p class="message text-formatting" *ngIf="data.post_id.shared_title" embedDirective>{{data.post_id.shared_title}}</p>
                                        <p embedDirective>{{data.post_id.question}}</p>
                                    </div>
                                    <div class="timeline-body layout-column" *ngIf="data.post_id.document[0]">
                                        <p class="message text-formatting" *ngIf="data.post_id.shared_title" embedDirective>{{data.post_id.shared_title}}</p>
                                        <h4 class=" message text-formatting" *ngIf="data.post_id.name && data.post_id.name!=null" embedDirective>{{data.post_id.name}}</h4><br>
                                        <h4 class=" message text-formatting" *ngIf="data.post_id.document[0].file_name">{{data.post_id.document[0].file_name | documentNameFilter}}</h4>
                                        <a target="_blank" href="public/files/{{getFoldername(data.post_id.types)}}/Documents/{{data.post_id.origin_creator?data.post_id.origin_creator._id:data.post_id.created_by}}/{{data.post_id.document[0].file_name}}"
                                            class="pdflink">
                                            <span class="title" *ngIf="data.post_id.document[0].file_name">
                                                <span *ngIf="data.post_id.document[0].file_name.split('.').pop() == 'txt' || data.post_id.document[0].file_name.split('.').pop() == 'text'">
                                                <i class="fa fa-file-text fa-4x">&nbsp;</i>&nbsp;Open/Download
                                                </span>
                                            <span *ngIf="data.post_id.document[0].file_name.split('.').pop() == 'pdf'">
                                                    <i class="fa fa-file-pdf-o fa-4x">&nbsp;</i>&nbsp;Open/Download
                                                </span>
                                            <span *ngIf="data.post_id.document[0].file_name.split('.').pop() == 'doc' || data.post_id.document[0].file_name.split('.').pop() == 'dot' || data.post_id.document[0].file_name.split('.').pop() == 'word' || data.post_id.document[0].file_name.split('.').pop() == 'wiz' || data.post_id.document[0].file_name.split('.').pop() == 'w6w' || data.post_id.document[0].file_name.split('.').pop() == 'docx'">
                                                    <i class="fa fa-file-word-o fa-4x">&nbsp;</i>&nbsp;Open/Download
                                                </span>
                                            <span *ngIf="data.post_id.document[0].file_name.split('.').pop() == 'xls' || data.post_id.document[0].file_name.split('.').pop() == 'xlm' || data.post_id.document[0].file_name.split('.').pop() == 'xll' || data.post_id.document[0].file_name.split('.').pop() == 'xlc' || data.post_id.document[0].file_name.split('.').pop() == 'xlb' || data.post_id.document[0].file_name.split('.').pop() == 'xlw' || data.post_id.document[0].file_name.split('.').pop() == 'xlsx'">
                                                    <i class="fa fa-file-excel-o fa-4x">&nbsp;</i>&nbsp;Open/Download
                                                </span>
                                            <span *ngIf="data.post_id.document[0].file_name.split('.').pop() == 'ppt' || data.post_id.document[0].file_name.split('.').pop() == 'pot' || data.post_id.document[0].file_name.split('.').pop() == 'pps' || data.post_id.document[0].file_name.split('.').pop() == 'ppa' || data.post_id.document[0].file_name.split('.').pop() == 'pwz' ">
                                                    <i class="fa fa-file-powerpoint-o fa-4x">&nbsp;</i>&nbsp;Open/Download
                                                </span>
                                            <span *ngIf="data.post_id.document[0].file_name.split('.').pop() == 'xml'">
                                                    <i class="fa fa-file-o fa-4x">&nbsp;</i>&nbsp;Open/Download
                                                </span>
                                            </span>
                                        </a>
                                    </div>
                                    <div class="post-btm layout-row layout-align-space-between-center">

                                        <ul *ngIf="data.post_id.likes" class="list-inline smile-dropdown flex-xs-30 layout-row">
                                            <li>
                                                <img class="toggleImage-{{j}}" (click)="addLike(data.post_id._id,data.post_id,j)" src="public/dist/img/{{data.post_id.likes|likeFilterPipe:data.post_id._id}}"
                                                    style="height: 20px ;width: 20px" />                                                {{data.post_id.likes.length}}
                                                <span class="c-p" *ngIf="data.post_id.likes.length > 0" (click)="onViewLikeClick(data.post_id._id)">View</span>
                                            </li>
                                        </ul>
                                        <ul class="list-inline user-acitvity flex-xs-45 layout-row">
                                            <li (click)=toggleComment(data.post_id.comments,data.post_id._id) class="c-p"><a class="link-black text-sm"><i class="fa fa-commenting margin-r-5 fa-1x"></i><span> {{data.post_id.comments.length}}</span>&nbsp;Comment<span *ngIf="data.post_id.comments.length>1">s</span></a></li>
                                            <li *ngIf="data.post_id.created_by && data.post_id.created_by._id!=null" (click)="openAddPostToJournalModal(data.post_id._id)"
                                                class="c-p"><a class="link-black text-sm"><i class="fa fa-file-text margin-r-5 fa-1x"></i>Journal</a>
                                            </li>
                                            <li class="">
                                                <a (click)="onShareClick(data.post_id._id)" class="link-black text-sm c-p"><i class="fa  fa-share margin-r-5 fa-1x"></i> Share
                            </a></li>
                            <li *ngIf="data.post_id.created_by._id!=page.userIdGlobal" class="c-p">
                                    <a (click)="onReportClickModal(data.post_id._id)" class="link-black text-sm c-p"><i class="fa fa-flag"></i> Report
                                    </a>
                             </li> 
                                        </ul>
                                        <div class="post-share-toggle" [class.display-share]="sharing[data.post_id._id]">
                                            <ul>
                                                <li (click)="share(data.post_id)">Internal Share</li>
                                                <li (click)="externalShare(data.post_id)">External Share</li>
                                            </ul>
                                        </div>
                                    </div>
                                    <div class="modal fade " id="friendlist">
                                        <div class="modal-dialog">
                                            <div class="modal-content">
                                                <div class="modal-header">
                                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                                                    <h4 class="modal-title">Friends</h4>
                                                </div>
                                                <div class="modal-body setting-page flex-100 layout-row">
                                                    <ul class="" role="menu">
                                                        <li *ngFor="let sub of friendsName">
                                                            <input *ngIf="selectionOfSharing == 1" type="checkbox" (click)="checkboxValue(sub.friend_id)" id="check_{{sub.friend_id}}"
                                                                value="{{sub.friend_id}}">
                                                            <input *ngIf="selectionOfSharing == 2" type="checkbox" (click)="shareCheckboxValue(sub.friend_id)" id="check_{{sub.friend_id}}"
                                                                value="{{sub.friend_id}}">
                                                            <span>{{sub.name}}</span>
                                                        </li>
                                                    </ul>
                                                </div>
                                                <div class="modal-footer">
                                                    <button *ngIf="selectionOfSharing == 2" class="add-btn cancel-btn" (click)="shareCustomPost()" data-dismiss="modal">Done</button>
                                                    <button *ngIf="selectionOfSharing == 1" class="add-btn cancel-btn" data-dismiss="modal">Save</button>
                                                </div>

                                            </div>
                                            <!-- /.modal-content -->
                                        </div>
                                        <!-- /.modal-dialog -->
                                    </div>
                                    <div class="post-toggle-area timeline-data" [class.display-comment]="togglePostComment[data.post_id._id]">
                                        <div class="post-comment-section">
                                            <div class="post-comment-body">
                                                <div class="comenter-like-day c-p prev-com" *ngIf="prevComment[data.post_id._id] && oldComment[data.post_id._id] && prevComment[data.post_id._id].length!=oldComment[data.post_id._id].length"
                                                    (click)="loadPrevComment(data.post_id._id)">View Previous Messages</div>
                                                <ul class="post-comment-list" angular2-auto-scroll lock-y-offset="2000" observe-attributes>
                                                    <li class="layout-row" *ngFor="let comment of  prevComment[data.post_id._id];let j=index;">
                                                        <div (click)="getProfileById(comment.comment_by._id)" class="post-comment-img  layout-align-start layout-row flex-xs-30  c-p">
                                                            <img *ngIf="comment.comment_by.photo" class="" src="public/files/ProfilePicture/{{comment.comment_by.photo}}" style="height:42px ;width: 42px">
                                                            <img *ngIf="!comment.comment_by.photo" class="" src="public/files/ProfilePicture/no_image.png" style="height:42px ;width: 42px">
                                                        </div>
                                                        <div class="post-comment-body layout-column flex-xs-70 flex-90 m-l-10">
                                                            <div class="layout-row layout-align-space-between">
                                                                <div (click)="getProfileById(comment.comment_by._id)" class="flex-50 flex-xs-50  comment-by c-p">{{comment.comment_by | nameFilter}}</div>
                                                                <span class="flex-50 flex-xs-50 layout-align-end-center layout-row">{{comment.date| datetime}}</span>
                                                            </div>
                                                            <div class="post-comment-text" [innerHtml]="comment.body">
                                                            </div>
                                                        </div>
                                                        <div class="layout-row layout-align-end">
                                                         <span *ngIf="comment.comment_by._id==lu" class="delete" (click)="deleteCommentModel(data.post_id._id,comment._id,j)"  tooltip="Delete Comment" tooltipPlacement="left"><i class="fa fa-trash" aria-hidden="true"></i></span>
                                                        </div>
                                                        <div class="modal fade modal-align-fix " id="commentDeleteModal">
                                                            <div class="modal-dialog">
                                                                <div class="modal-content">


                                                                    <div class="modal-body setting-page flex-100 layout-row">
                                                                        <div class="modal-body layout-column flex-100 ">





                                                                            <div class="modal-body">

                                                                                <div class="upload-area flex-60 layout-align-start-center layout-row">
                                                                                    <h4>Are you sure you want to delete this
                                                                                        comment?
                                                                                    </h4>
                                                                                </div>


                                                                            </div>

                                                                        </div>

                                                                    </div>

                                                                    <div class="modal-footer">
                                                                        <button class="add-btn cancel-btn" data-dismiss="modal">Cancel</button>
                                                                        <button class="add-btn" data-dismiss="modal" (click)="deleteComment(data.post_id)">Yes</button>
                                                                    </div>

                                                                </div>
                                                                <!-- /.modal-content -->
                                                            </div>
                                                        </div>
                                                    </li>
                                                </ul>
                                            </div>
                                            <div class="post-comment-footer">
                                                <form (ngSubmit)="addComment(data.post_id._id,data.post_id)">
                                                    <div class="input-group" *ngIf="postComment[data.post_id._id]">
                                                        <div id="inline-editor-{{data.post_id._id}}" class="comment-editor-inline"></div>

                                                        <!--<input required [(ngModel)]="postComment[data.post_id._id].comment" class="form-control" type="text" placeholder="Type a comment">-->
                                                        <span class="input-group-addon c-p" tooltip="Send" (click)="addComment(data.post_id._id,data.post_id)"><i class="fa fa-paper-plane-o"></i></span>

                                                    </div>
                                                </form>
                                            </div>


                                        </div>
                                    </div>
                                </div>




                            </li>

                            <li>
                                <i class="fa fa-clock-o bg-gray"></i>
                            </li>
                        </ul>
                    </div>

                    <div class="tab-pane" id="photos" (window:scroll)="onScrollList($event,3)" [class.showtab]="tPhoto" [class.hidetab]="!tPhoto">
                        <div class="custom1-modal-header layout-row layout-align-space-between">
                            <div class="h3 header-title layout-row layout-align-center-center">
                                <span ng-bind="Heading" class="ng-binding">Photo</span>
                            </div>

                        </div>
                        <div class="page-loader-section layout-row layout-align-center-center" *ngIf="!postdata || loader">
                            <div class="page-loader ">Loading...</div>
                        </div>
                        <div class="no-data" *ngIf="postdata?.length == 0">No photos found</div>

                        <div class="tab-pane">
                            <div class="layout-row layout-wrap flex-100">
                                <div *ngFor="let data of postdata; let j=index" class="flex-25 flex-sm-50 flex-xs-100">
                                    <div *ngIf="data.photo[0]" class="flex-100 flex-sm-50 flex-xs-100 user-photos layout-align-xs-center-center layout-xs-row">
                                        <div (click)="getDetailView(data._id)">
                                            <figure class="layout-row layout-align-center-center">
                                                <img *ngIf="data.photo[0].title==null && data.created_by.photo" src="public/files/{{getFoldername(data.types)}}/Photos/{{data.origin_creator?data.origin_creator._id:data.created_by._id}}/{{data.photo[0].file_name}}"
                                                    alt="">
                                                <img *ngIf="data.photo[0].title!=null && data.created_by.photo" class="img-responsive" src="{{data.photo[0].title}}" alt="Photo">
                                                <img *ngIf="!data.created_by.photo" src="public/files/{{getFoldername(data.types)}}/Photos/{{data.origin_creator?data.origin_creator._id:data.created_by._id}}/{{data.photo[0].file_name}}"
                                                    alt="">
                                            </figure>
                                            <p class=" header-title" style="font-size: 12px;" *ngIf="data.name && data.name !=null" embedDirective>{{data.name | lengthFilter}}</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="tab-pane" id="videos" (window:scroll)="onScrollList($event,4)" [class.showtab]="tVideo" [class.hidetab]="!tVideo">
                        <div class="custom1-modal-header layout-row layout-align-space-between">
                            <div class="h3 header-title layout-row layout-align-center-center">
                                <span ng-bind="Heading" class="ng-binding">Videos</span>
                            </div>

                        </div>
                        <div class="page-loader-section layout-row layout-align-center-center" *ngIf="!postdata ||loader">
                            <div class="page-loader ">Loading...</div>
                        </div>
                        <div class="no-data" *ngIf="postdata?.length == 0">No videos found</div>

                        <div class="tab-pane">
                            <div class="layout-row layout-wrap">
                                <div class="flex-25 flex-sm-50 flex-xs-100  user-videos" *ngFor="let data of postdata; let j=index">
                                    <div class="video-wrap-play" *ngIf="data.video[0]" (click)="getDetailVideoView(data._id)">
                                        <video #cmp width="100%" height="100%" *ngIf="data.video[0].title==null">
                                            <source src="public/files/{{getFoldername(data.types)}}/Videos/{{data.origin_creator?data.origin_creator._id:data.created_by._id}}/{{data.video[0].file_name}}"
                                                type="video/mp4">
                                        </video>
                                        <iframe *ngIf="data.video[0].title!=null" width="100%" height="320px" [src]="data.video[0].title | youtubeSafeUrl">
                                        </iframe>
                                        <div class="video-wrap-layer">
                                            <i class="fa fa-play-circle" aria-hidden="true"></i>
                                        </div>
                                        <p class=" header-title text-formatting" style="font-size: 12px;" *ngIf="data.name && data.name!==null" embedDirective>{{data.name | lengthFilter}}</p>

                                        <!--<img src="public/files/{{getFoldername(data.type)}}/Videos/{{data.created_by}}/{{data.video[0].file_name}}"" alt="">-->
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                    <div class="tab-pane" id="links" (window:scroll)="onScrollList($event,5)" [class.showtab]="tLink" [class.hidetab]="!tLink">
                        <div class="custom1-modal-header layout-row layout-align-space-between">
                            <div class="h3 header-title layout-row layout-align-center-center">
                                <span ng-bind="Heading" class="ng-binding">Links</span>
                            </div>

                        </div>
                        <div class="page-loader-section layout-row layout-align-center-center" *ngIf="!postdata || loader">
                            <div class="page-loader ">Loading...</div>
                        </div>
                        <div class="no-data" *ngIf="postdata?.length == 0">No links found</div>

                        <div class="tab-pane">
                            <div class="layout-row layout-wrap layout-align-space-between layout-xs-column">
                                <div class="layout-column flex-49 layout-align-space-between layout-wrap  flex-xs-100  " *ngFor="let data of postdata; let j=index">
                                    <div class="m-b-20" *ngIf="data.link[0]">
                                        <div class="content-block layout-row layout-align-space-between border whit-bg college-b border-radius-3px trans-scale">
                                            <div class="layout-column layout-align-center-center flex-20 abnk">
                                                <i class="fa fa-link" aria-hidden="true"></i>

                                            </div>
                                            <div class="content-block-desc layout-column flex-80 layout-wrap layout-row margin-l-10">

                                                <div class="detaial flex-80 c-p">
                                                    <h5 class="content-block-desc-sub-title"></h5>
                                                    <div class="content-block-desc-link">
                                                        <a *ngIf="data.link[0].description" target="_blank" href="{{data.link[0].description}}" class="link" >{{data.link[0].description}}</a>
                                                    </div>
                                                    <p class="content-block-desc-title" *ngIf="data.link[0].title" embedDirective>{{data.link[0].title | lengthFilter}}</p>

                                                </div>
                                                <!--                                    <div class="icon-pencil-edit flex-10 layout-row text-right">

                                        <div class="modal-option option1 layout-row layout-align-end-start flex-50">
                                            <a href="#"> <i class="fa fa-angle-down" aria-hidden="true"></i></a>


                                        </div>

                                    </div>-->
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>


                    <div class="tab-pane" id="documents" (window:scroll)="onScrollList($event,7)" [class.showtab]="tDocument" [class.hidetab]="!tDocument">
                        <div class="custom1-modal-header layout-row layout-align-space-between">
                            <div class="h3 header-title layout-row layout-align-center-center">
                                <span ng-bind="Heading" class="ng-binding">Document</span>
                            </div>

                        </div>
                        <div class="page-loader-section layout-row layout-align-center-center" *ngIf="!postdata || loader">
                            <div class="page-loader ">Loading...</div>
                        </div>
                        <div class="no-data" *ngIf="postdata?.length == 0">No documents found</div>

                        <div class="tab-pane">
                            <div class="layout-row layout-wrap layout-align-space-between">
                                <div class="layout-column flex-49 flex-xs-100 layout-align-space-between layout-wrap " *ngFor="let data of postdata; let j=index">
                                    <div class="m-b-20" *ngIf="data.document[0]">
                                        <div class="content-block layout-row layout-align-space-between border whit-bg college-b border-radius-3px trans-scale">
                                            <div class="layout-column layout-align-center-center flex-20 flex-sm-30 flex-xs-30  abnk">
                                                <span *ngIf="data.document[0].file_name.split('.').pop() == 'txt' || data.document[0].file_name.split('.').pop() == 'text'">
                                                    <i class="fa fa-file-text fa-4x" aria-hidden="true">&nbsp;</i>
                                                </span>
                                                <span *ngIf="data.document[0].file_name.split('.').pop() == 'pdf'">
                                                    <i class="fa fa-file-pdf-o fa-4x" aria-hidden="true">&nbsp;</i>
                                                </span>
                                                <span *ngIf="data.document[0].file_name.split('.').pop() == 'doc' || data.document[0].file_name.split('.').pop() == 'dot' || data.document[0].file_name.split('.').pop() == 'word' || data.document[0].file_name.split('.').pop() == 'wiz' || data.document[0].file_name.split('.').pop() == 'w6w' || data.document[0].file_name.split('.').pop() == 'docx'">
                                                    <i class="fa fa-file-word-o fa-4x" aria-hidden="true">&nbsp;</i>
                                                </span>
                                                <span *ngIf="data.document[0].file_name.split('.').pop() == 'xls' || data.document[0].file_name.split('.').pop() == 'xlm' || data.document[0].file_name.split('.').pop() == 'xll' || data.document[0].file_name.split('.').pop() == 'xlc' || data.document[0].file_name.split('.').pop() == 'xlb' || data.document[0].file_name.split('.').pop() == 'xlw' || data.document[0].file_name.split('.').pop() == 'xlsx'">
                                                    <i class="fa fa-file-excel-o fa-4x" aria-hidden="true">&nbsp;</i>
                                                </span>
                                                <span *ngIf="data.document[0].file_name.split('.').pop() == 'ppt' || data.document[0].file_name.split('.').pop() == 'pot' || data.document[0].file_name.split('.').pop() == 'pps' || data.document[0].file_name.split('.').pop() == 'ppa' || data.document[0].file_name.split('.').pop() == 'pwz' ">
                                                    <i class="fa fa-file-powerpoint-o fa-4x" aria-hidden="true">&nbsp;</i>
                                                </span>
                                                <span *ngIf="data.document[0].file_name.split('.').pop() == 'xml'">
                                                    <i class="fa fa-file-o fa-4x" aria-hidden="true">&nbsp;</i>
                                                </span>
                                            </div>
                                            <div class="content-block-desc layout-column flex-80 layout-wrap layout-row margin-l-10">

                                                <div class="detaial flex-80 c-p">
                                                    <a href="public/files/{{getFoldername(data.types)}}/Documents/{{data.origin_creator?data.origin_creator._id:data.created_by._id}}/{{data.document[0].file_name}}"
                                                        target="_blank" class="content-block-desc-title">{{data.document[0].file_name | documentNameFilter}}</a>
                                                    <h5 class="content-block-desc-sub-title"></h5>
                                                    <div class="content-block-desc-link">
                                                        {{data.created_on| datetime}}
                                                    </div>
                                                    <p class=" header-title" *ngIf="data.name && data.name!=null" embedDirective>{{data.name | lengthFilter}}</p>

                                                </div>

                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                    <div class="tab-pane" id="audios" (window:scroll)="onScrollList($event,6)" [class.showtab]="tAudio" [class.hidetab]="!tAudio">
                        <div class="custom1-modal-header layout-row layout-align-space-between">
                            <div class="h3 header-title layout-row layout-align-center-center">
                                <span ng-bind="Heading" class="ng-binding">Audio</span>
                            </div>

                        </div>
                        <div class="page-loader-section layout-row layout-align-center-center" *ngIf="!postdata || loader">
                            <div class="page-loader ">Loading...</div>
                        </div>
                        <div class="no-data" *ngIf="postdata?.length == 0">No audios found</div>

                        <div class="tab-pane">
                            <div class="layout-row layout-wrap layout-align-space-between">
                                <div class="layout-column flex-49 layout-align-space-between layout-wrap flex-xs-100" *ngFor="let data of postdata; let j=index">
                                    <div class="m-b-20" *ngIf="data.audio[0]" (click)="getDetailView(data._id)">
                                        <div class=" layout-row layout-align-space-between border whit-bg college-b border-radius-3px trans-scale">
                                            <div class="layout-column layout-align-center-center flex-20 flex-sm-30 slex-xs-30 abnk">
                                                <i class="fa fa-headphones" aria-hidden="true"></i>

                                            </div>
                                            <div class="content-block-desc layout-column flex-90 layout-wrap layout-row margin-l-10">

                                                <div class="detaial flex-90 c-p">
                                                    <h3 class="content-block-desc-title">{{data.audio[0].file_name | documentNameFilter}}</h3>
                                                    <!--                                                    <h5 class="content-block-desc-sub-title"></h5>-->
                                                    <div class="content-block-desc-link">
                                                        <audio controls *ngIf="data.audio[0].title==null">
                                                            <!--<source src="public/files/{{getFoldername(data.type)}}/Audios/{{data.created_by._id}}/{{data.audio[0].file_name}}" type="audio/ogg">-->
                                                            <source src="public/files/{{getFoldername(data.types)}}/Audios/{{data.origin_creator?data.origin_creator._id:data.created_by._id}}/{{data.audio[0].file_name}}"
                                                                type="audio/mpeg"> Your browser does not support the audio element.
                                                        </audio>
                                                        <audio controls *ngIf="data.audio[0].title!=null">
                                                            <source src="{{data.audio[0].title}}" type="audio/mp4">
                                                        </audio>
                                                        <p class=" header-title" *ngIf="data.name && data.name!=null" embedDirective>{{data.name | lengthFilter}}</p>

                                                    </div>
                                                </div>
                                                <!--<div class="icon-pencil-edit flex-10 layout-row text-right">

                                                    <div class="modal-option option1 layout-row layout-align-end-start flex-50">
                                                        <a href="#"> <i class="fa fa-angle-down" aria-hidden="true"></i></a>


                                                    </div>

                                                </div>-->
                                                <h5 class="content-block-desc-sub-title"></h5>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                    <div class="tab-pane" id="questions" (window:scroll)="onScrollList($event,2)" [class.showtab]="tQuestion" [class.hidetab]="!tQuestion">
                        <div class="custom1-modal-header layout-row layout-align-space-between">
                            <div class="h3 header-title layout-row layout-align-center-center">
                                <span ng-bind="Heading" class="ng-binding"> Question</span>
                            </div>

                        </div>
                        <div class="page-loader-section layout-row layout-align-center-center" *ngIf="!postdata || loader">
                            <div class="page-loader ">Loading...</div>
                        </div>
                        <div class="no-data" *ngIf="postdata?.length == 0">No questions found</div>

                        <div class="tab-pane">
                            <div class="post" *ngFor="let data of postdata; let j=index">
                                <div class="user-block" *ngIf="data.question">
                                    <img *ngIf="data.created_by.photo" alt="user image" class="  " src="public/files/ProfilePicture/{{data.created_by.photo}}">
                                    <img *ngIf="!data.created_by.photo" alt="user image" class="  " src="public/files/ProfilePicture/no_image.png">
                                    <div class="user-question">
                                        <!--                                        <i class="fa fa-question-circle" aria-hidden="true"></i><span>{{data.question}}</span>-->

                                    </div>
                                    <div class="user-detail">
                                        <span class="color-red">
                                {{data.created_by| nameFilter}}
                            </span>
                                        <span class="description">Shared
                                            <span *ngIf="data.privacy==1"> publicly </span>
                                        <span *ngIf="data.privacy==2"> privately </span>
                                        <span *ngIf="data.privacy==3"> to friends </span>
                                        <span *ngIf="data.privacy==4"> to followers </span>
                                        <span *ngIf="data.privacy==5"> custom </span>
                                        <span *ngIf="data.privacy==6"> to all friends and followers </span>- {{data.created_on|datetime
                                        }}
                                        </span>
                                    </div>

                                </div>
                                <div class="post-body">
                                    <div class="question-toggle-area">
                                        <div class="post-comment-section">
                                            <div class="post-comment-body">
                                                <ul class="post-comment-list">
                                                    <li class="layout-row">

                                                        <div class="post-comment-body layout-column flex-90">

                                                            <div class="post-comment-text">
                                                                <i class="fa fa-question-circle" aria-hidden="true"></i>                                                                <span embedDirective>{{data.question}}</span>
                                                            </div>
                                                        </div>
                                                    </li>
                                                </ul>
                                            </div>
                                            <div class="post-comment-body">
                                                <ul class="post-comment-list" angular2-auto-scroll lock-y-offset="2000" observe-attributes>
                                                    <li class="layout-row" *ngFor="let answer of data.answer">
                                                        <div (click)="getProfileById(answer.created_by._id)" class="post-comment-img  layout-align-start-center layout-row flex-xs-30  c-p">
                                                            <img *ngIf="answer.created_by.photo" class="" src="public/files/ProfilePicture/{{answer.created_by.photo}}" style="height:42px ;width: 42px">
                                                            <img *ngIf="!answer.created_by.photo" class="" src="public/files/ProfilePicture/no_image.png" style="height:42px ;width: 42px">
                                                        </div>
                                                        <div class="post-comment-body layout-column flex-90 m-l-10">
                                                            <div class="layout-row layout-align-space-between">
                                                                <div (click)="getProfileById(answer.created_by._id)" class="flex-75 comment-by c-p">{{answer.created_by | nameFilter}}</div>
                                                                <span class="flex-25 text-right">{{answer.date| datetime}}</span>
                                                            </div>
                                                            <div class="post-comment-text text-formatting">
                                                                {{answer.body}}
                                                            </div>
                                                        </div>
                                                        <span class="delete" (click)="deleteAnswerModel(data._id,answer._id)">delete</span>
                                                        <div class="modal fade modal-align-fix " id="answerDeleteModal">
                                                            <div class="modal-dialog">
                                                                <div class="modal-content">


                                                                    <div class="modal-body setting-page flex-100 layout-row">
                                                                        <div class="modal-body layout-column flex-100 ">





                                                                            <div class="modal-body">

                                                                                <div class="upload-area flex-60 layout-align-start-center layout-row">
                                                                                    <h4>Are you sure you want to delete this
                                                                                        answer?
                                                                                    </h4>
                                                                                </div>


                                                                            </div>

                                                                        </div>

                                                                    </div>

                                                                    <div class="modal-footer">
                                                                        <button class="add-btn cancel-btn" data-dismiss="modal">Cancel</button>
                                                                        <button class="add-btn" data-dismiss="modal" (click)="deleteAnswer(data)">Yes</button>
                                                                    </div>

                                                                </div>
                                                                <!-- /.modal-content -->
                                                            </div>
                                                        </div>
                                                    </li>
                                                </ul>
                                            </div>
                                            <div class="post-comment-footer add-ans">
                                                <form (ngSubmit)="addAnswer(data._id,data)">
                                                    <div class="input-group">

                                                        <input [(ngModel)]="postAnswerDiscription[data._id]" class="form-control" type="text" placeholder="Type your answer">
                                                        <span class="input-group-addon" (click)="addAnswer(data._id,data)"><i class="fa fa-paper-plane-o"></i></span>

                                                    </div>
                                                    <span class="error_file_message">{{errorAnswerPost}}</span>
                                                </form>
                                            </div>


                                        </div>
                                    </div>
                                </div>


                            </div>



                        </div>

                    </div>




                </div>
            </div>
        </div>

    </div>

</section>
<section *ngIf="isUserBlocked">
    <div class="no-g-e-block layout-row layout-align-start-center">
        <div class=""><i class="fa fa-exclamation-circle" aria-hidden="true"></i></div>
        <div class="layout-row layout-wrap"><span>Page content not available.</span>
        </div>
    </div>
</section>
<div class="modal fade modal-align-fix " id="add-post-journal">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="cleanJournal()"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">Add to Journal </h4>
            </div>
            <div class="modal-body setting-page flex-100 layout-row">
                <label class="flex-20 layout-row layout-align-center-center">Description</label>
                <textarea id="exampleInputFile" class="flex-50 pad-5-10" placeholder="Write in your journal" rows="3" [(ngModel)]="description.description"></textarea>
                <!--<input id="exampleInputFile" class="flex-50 pad-5-10" placeholder="Write in your journal" [(ngModel)]="description.description" />-->
            </div>
            <div class="modal-body setting-page flex-100 layout-row">
                <label class="flex-20 layout-row layout-align-center-center">Journal</label>

                <div class="dropdown flex-50">
                    <button type="text" data-toggle="dropdown" placeholder="Select Journal" class="flex-50">{{select_journal}}
                        <span class="caret"></span></button>
                    <ul class="dropdown-menu">
                        <div *ngFor="let journals of JournalByUserId">
                            <li *ngIf="journals" (click)="saveJournalId(journals._id,journals.title)"><a>{{journals.title}}</a></li>
                        </div>
                        <li class="journal-list" *ngIf="create_journal!=null" (click)="openJournla(true)">{{create_journal}}</li>
                    </ul>
                    <div class="modal-content" *ngIf="openJournal">
                        <!-- <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="cleanJournal()"><span aria-hidden="true">&times;</span></button>
                        </div> -->

                        <div class="modal-body setting-page flex-100 layout-row">
                            <label class="flex-20 layout-row layout-align-center-center">Title</label>
                            <input class="flex-70 pad-5-10" [(ngModel)]="title.title" placeholder="Journal Title.." type="text" />
                            <span class="text-error" style="color: red" *ngIf="errorAddJournal!=null">{{errorAddJournal}}</span>
                        </div>
                        <div class="modal-footer">
                            <button class="add-btn cancel-btn" data-dismiss="modal" (click)="cancelJournal()">Cancel</button>
                            <button class="add-btn" (click)="createJournal()">Add Journal</button>
                        </div>

                    </div>
                </div>
            </div>

            <div class="modal-footer">
                <button class="add-btn cancel-btn" data-dismiss="modal" (click)="cleanJournal()">Cancel</button>
                <button class="add-btn" (click)="addPostInJournal()">Update</button>
                <div class="footer-comment-li">
                    <div *ngFor="let reljournals of relatedJournal" class="footer-comment">
                        <li *ngIf="reljournals && reljournals._id!=null">{{reljournals.title}}</li>
                    </div>
                </div>
            </div>

        </div>
        <!-- /.modal-content -->
    </div>
    <!-- /.modal-dialog -->
</div>
<div class="modal fade modal-align-fix " id="add-journal-activity">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="cleanJournal()"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">Add to Journal</h4>
            </div>
            <div class="modal-body setting-page flex-100 layout-row">
                <label class="flex-20 layout-row layout-align-center-center">Description</label>
                <!--<input id="exampleInputFile" class="flex-50 pad-5-10" placeholder="Write in your journal" [(ngModel)]="description.description" />-->
                <textarea id="exampleInputFile" class="flex-50 pad-5-10" placeholder="Write in your journal" rows="3" [(ngModel)]="description.description"></textarea>
            </div>
            <div class="modal-body setting-page flex-100 layout-row">
                <label class="flex-20 layout-row layout-align-center-center">Journal</label>

                <div class="dropdown flex-50">
                    <button type="text" data-toggle="dropdown" placeholder="Select Journal" class="flex-50">{{select_journal}}
                        <span class="caret"></span></button>
                    <ul class="dropdown-menu">
                        <div *ngFor="let journals of JournalByUserId">
                            <li *ngIf="journals" (click)="saveJournalId(journals._id,journals.title)"><a>{{journals.title}}</a></li>
                        </div>
                        <li class="journal-list" *ngIf="create_journal!=null" (click)="openJournla(true)">{{create_journal}}</li>
                    </ul>
                    <div class="modal-content" *ngIf="openJournal">
                        <!-- <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="cleanJournal()"><span aria-hidden="true">&times;</span></button>
                        </div> -->

                        <div class="modal-body setting-page flex-100 layout-row">
                            <label class="flex-20 layout-row layout-align-center-center">Title</label>
                            <input class="flex-70 pad-5-10" [(ngModel)]="title.title" placeholder="Journal Title.." type="text" />
                            <span class="text-error" style="color: red" *ngIf="errorAddJournal!=null">{{errorAddJournal}}</span>
                        </div>
                        <div class="modal-footer">
                            <button class="add-btn cancel-btn" data-dismiss="modal" (click)="cancelJournal()">Cancel</button>
                            <button class="add-btn" (click)="createJournal()">Add Journal</button>
                        </div>

                    </div>
                </div>
            </div>

            <div class="modal-footer">
                <button class="add-btn cancel-btn" data-dismiss="modal" (click)="cleanJournal()">Cancel</button>
                <button class="add-btn" (click)="addPostInJournal()">Update</button>
            </div>

        </div>
        <!-- /.modal-content -->
    </div>
    <!-- /.modal-dialog -->
</div>
<div class="modal fade asset-detail-dialog " id="profileAssetImgModal">
    <div class="modal-dialog">
        <div class="modal-content">

            <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="closeStateDialog(postid)"><span aria-hidden="true">&times;</span></button>
            <!--                <h4 class="modal-title">Image</h4>-->


            <div class="modal-body setting-page flex-100 layout-row">

                <data-profile-Pic-friends *ngIf="dialogState" [postId]="postid"></data-profile-Pic-friends>
            </div>
        </div>
        <!-- /.modal-content -->
    </div>
    <!-- /.modal-dialog -->
</div>

<div class="modal fade modal-align-fix " id="postDeleteModal">
    <div class="modal-dialog">
        <div class="modal-content">

            <div class="modal-body setting-page flex-100 layout-row">
                <div class="modal-body layout-column flex-100 ">
                    <div class="modal-body">

                        <div class="upload-area flex-60 layout-align-start-center layout-row">
                            <h4> Do you want to delete this post?</h4>
                        </div>


                    </div>

                </div>

            </div>

            <div class="modal-footer">
                <button class="add-btn cancel-btn" data-dismiss="modal">Cancel</button>
                <button class="add-btn" data-dismiss="modal" (click)="deletePostById()">Yes</button>
            </div>

        </div>
        <!-- /.modal-content -->
    </div>
    <!-- /.modal-dialog -->
</div>

<!-- post share model  -->
<div class="modal fade modal-align-fix dialog-like-wrapper " id="postShareModel">
    <ba-post-share-model *ngIf="showPostShareModel" [postData]="sharePostData" (complete)="onPostShareModelClose($event)"></ba-post-share-model>
</div>
<!-- post external share model  -->
<div class="modal fade modal-align-fix dialog-like-wrapper " id="postExternalShareModel">
    <ba-post-external-share-model *ngIf="showPostExternalShareModel" [postData]="sharePostData" (complete)="onExternalShareModelClose($event)"></ba-post-external-share-model>
</div>
<!-- journal Model -->
<div class="modal fade modal-align-fix " id="add-post-journal-modal">
    <add-post-to-journal-modal *ngIf="addPostToJournal" [postId]="postid" (complete)="onCloseAddPostToJournal($event)"></add-post-to-journal-modal>
</div>
<!-- like member list Model -->
<div class="modal fade modal-align-fix " id="like-member-list">
    <like-member-list *ngIf="likeMemberList" [postId]="post_id" (complete)="onLikeClose($event)"></like-member-list>
</div>
<!-- Report Modal -->
<div class="modal fade modal-align-fix" id="add-report-modal">
        <report-info *ngIf="addReportInfo" [postId]="postid" (complete)="onCloseAddReport($event)"></report-info>
</div>

